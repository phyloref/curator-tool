(function(e){function t(t){for(var n,o,c=t[0],i=t[1],d=t[2],u=0,f=[];u<c.length;u++)o=c[u],s[o]&&f.push(s[o][0]),s[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);l&&l(t);while(f.length)f.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,c=1;c<a.length;c++){var i=a[c];0!==s[i]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},s={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/curation-tool/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0159":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"sidebar-wrapper"}},[a("div",{staticClass:"card bg-dark"},[a("div",{staticClass:"list-group list-group-flush"},[a("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        "+e._s(e.currentPhyx.title||"Untitled Phyx file")+"\n      ")]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.promptAndSetDict("Please enter the new title for this Phyx file",e.currentPhyx,"title")}}},[e._v("\n        Edit title\n      ")]),a("a",{staticClass:"list-group-item list-group-item-action start-reasoning",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.reasonOverPhyloreferences()}}},[e.reasoningInProgress?a("span",[e._v("\n          (Reasoning in progress)\n        ")]):a("span",[e._v("\n          Reason\n        ")])]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#file-input').trigger('click')"}},[e._v("\n        Read from local JSON file\n      ")]),a("input",{staticClass:"d-none",attrs:{id:"file-input",type:"file"},on:{change:function(t){e.loadPhyxFromFileInputById("#file-input")}}}),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.downloadAsJSON()}}},[e._v("\n        Save as JSON\n      ")]),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('.phyx-examples').toggleClass('d-none')"}},[e._v("\n        Examples\n      ")]),e._l(e.examplePHYXURLs,function(t){return a("a",{staticClass:"list-group-item list-group-item-action phyx-examples d-none",attrs:{href:"javascript: void(0)"},on:{click:function(a){e.loadPhyxFromURL(t.url)}}},[e._v("\n        ● "+e._s(t.title)+"\n      ")])}),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#advanced-options').modal()"}},[e._v("\n        Advanced\n      ")])],2)]),a("div",{staticClass:"card mt-2 bg-dark"},[a("div",{staticClass:"list-group list-group-flush"},[a("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phyloreferences\n      ")]),a("a",{staticClass:"list-group-item list-group-item-action",class:{active:!e.selectedPhyloref&&!e.selectedPhylogeny},attrs:{href:"javascript: void(0)"},on:{click:function(t){e.$store.commit("changeDisplay",{})}}},[a("em",[e._v("Summary")])]),e._l(e.phylorefs,function(t,n){return[a("a",{staticClass:"h6 list-group-item list-group-item-action border-dark",class:{active:e.selectedPhyloref===t},attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:t})}}},[t.label?a("span",[e._v("\n            "+e._s(t.label)+"\n          ")]):a("span",[e._v("\n            "+e._s("Phyloreference "+(n+1))+"\n          ")]),a("ModifiedIcon",{attrs:{message:"This phyloreference has been modified since being loaded! Use 'Save as JSON' to save your changes.",compare:t,"compare-to":e.loadedPhyx.phylorefs[n]}})],1),e.selectedPhyloref===t?[e._l(t.internalSpecifiers,function(n,s){return a("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===n},attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:t,specifier:n})}}},[e._v("\n            ● "),a("strong",[e._v("Internal:")]),e._v(" "+e._s(e.getSpecifierLabel(n))+"\n          ")])}),e._l(t.externalSpecifiers,function(n,s){return a("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===n},attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:t,specifier:n})}}},[e._v("\n            ● "),a("strong",[e._v("External:")]),e._v(" "+e._s(e.getSpecifierLabel(n))+"\n          ")])}),a("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("addSpecifier",{phyloref:t})}}},[e._v("\n            ● "),a("em",[e._v("Add specifier")])])]:e._e()]}),a("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.$store.commit("createEmptyPhyloref")}}},[a("em",[e._v("Add phyloreference")])])],2)]),a("div",{staticClass:"card mt-2 bg-dark"},[a("div",{staticClass:"list-group list-group-flush"},[a("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phylogenies\n      ")]),e._l(e.phylogenies,function(t,n){return a("a",{staticClass:"list-group-item list-group-item-action border-dark",class:{active:e.selectedPhylogeny===t},attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("changeDisplay",{phylogeny:t})}}},[e._v("\n        "+e._s(t.label||"Phylogeny "+(n+1))+"\n\n        "),a("ModifiedIcon",{attrs:{message:"This phylogeny has been modified since being loaded! Use 'Save as JSON' to save your changes.",compare:t,"compare-to":e.loadedPhyx.phylogenies[n]}})],1)}),a("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.$store.commit("createEmptyPhylogeny")}}},[a("em",[e._v("Add phylogeny")])])],2)])])},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"034f":function(e,t,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},"0417":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6762"),a("2fdb"),a("7f7f"),a("ac6a"),a("5df3"),a("4f7f"),a("c5f6");var n=a("2ef0"),s={name:"Phylotree",props:{phylogeny:Object,phyloref:Object,spacingX:{type:Number,default:20},phylogenyIndex:{type:Number,default:(0,n.uniqueId)()}},data:function(){return{pinningNodes:[],pinningNodeChildrenIRIs:new Set}},computed:{reasoningResults:function(){return this.$store.state.phyx.reasoningResults},newickAsString:function(){return this.phylogeny.newick||"()"},parsedNewick:function(){var e=this,t=d3.layout.newick_parser(this.phylogeny.newick||"()");return(0,n.has)(t,"json")&&this.recurseNodes(t.json,function(t,a){var n=t,s="".concat(e.$store.getters.getBaseURIForPhylogeny(e.phylogeny),"_node").concat(a);n["@id"]=s}),t},newickErrors:function(){if(!(0,n.has)(this.parsedNewick,"json")||null===this.parsedNewick.json)return(0,n.has)(this.parsedNewick,"error")?this.parsedNewick.error:"unknown error"},tree:function(){var e=this,t=d3.layout.phylotree().svg(d3.select("#phylogeny".concat(this.phylogenyIndex))).options({"internal-names":!0,transitions:!1,"left-right-spacing":"fit-to-size","top-bottom-spacing":"fixed-step"}).style_nodes(function(t,a){var s=t.selectAll("text");if((0,n.has)(a,"name")&&""!==a.name&&a.children&&(s.empty()&&(s=t.append("text"),s.classed("internal-label",!0).text(a.name).attr("dx",".3em").attr("dy",".3em")),e.$store.getters.getExpectedNodeLabelsOnPhylogeny(e.phylogeny,e.phyloref).includes(a.name)?(s.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),s.classed("selected-internal-label",!0)):(s.attr("id",""),s.classed("selected-internal-label",!1))),void 0!==e.phyloref&&(0,n.has)(a,"@id")&&e.$store.getters.getResolvedNodesForPhylogeny(e.phylogeny,e.phyloref).includes(a["@id"])&&(e.pinningNodes.push(a),e.recurseNodes(a,function(t){return e.pinningNodeChildrenIRIs.add(t["@id"])}),t.classed("pinning-node",!0),t.select("circle").attr("r",6),t.attr("id","current_pinning_node_phylogeny_".concat(e.phylogenyIndex))),(0,n.has)(a,"@id")&&e.pinningNodeChildrenIRIs.has(a["@id"])&&t.classed("descendant-of-pinning-node-node",!0),void 0!==a.name&&void 0===a.children){var r=e.$store.getters.getTaxonomicUnitsForNodeLabel(e.phylogeny,a.name);0===r.length?t.classed("terminal-node-without-tunits",!0):void 0!==e.phyloref&&((0,n.has)(e.phyloref,"label")&&e.$store.getters.getExpectedNodeLabelsOnPhylogeny(e.phylogeny,e.phyloref).includes(a.name)&&s.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),(0,n.has)(e.phyloref,"internalSpecifiers")&&e.phyloref.internalSpecifiers.some(function(t){return e.$store.getters.getNodeLabelsMatchedBySpecifier(e.phylogeny,t).includes(a.name)})&&t.classed("internal-specifier-node",!0),(0,n.has)(e.phyloref,"externalSpecifiers")&&e.phyloref.externalSpecifiers.some(function(t){return e.$store.getters.getNodeLabelsMatchedBySpecifier(e.phylogeny,t).includes(a.name)})&&t.classed("external-specifier-node",!0))}}).style_edges(function(t,a){(0,n.has)(a,"source")&&(0,n.has)(a.source,"@id")&&e.pinningNodeChildrenIRIs.has(a.source["@id"])?t.classed("descendant-of-pinning-node-branch",!0):t.classed("descendant-of-pinning-node-branch",!1)});return t(this.parsedNewick),t}},watch:{phyloref:function(e,t){this.redrawTree()},reasoningResults:function(e,t){this.redrawTree()}},mounted:function(){this.redrawTree()},methods:{recurseNodes:function(e,t){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t(e,s,r);var o=s+1;return(0,n.has)(e,"children")&&e.children.forEach(function(e){o=a.recurseNodes(e,t,o,s)}),o},redrawTree:function(){this.pinningNodes=[],this.pinningNodeChildrenIRIs=new Set,this.tree.size([0,$("#phylogeny".concat(this.phylogenyIndex)).width()-40]).spacing_x(this.spacingX).update()}}};t.default=s},"0fed":function(e,t,a){},"0ff4":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a481"),a("1c4c"),a("55dd"),a("6762"),a("2fdb"),a("ac6a"),a("5df3"),a("4f7f");var s=n(a("2b0e")),r=a("2ef0"),o={getters:{getExpectedNodeLabelsOnPhylogeny:function(e,t){return function(e,a){var n=new Set,s=e.newick||"()";if(void 0===a||!(0,r.has)(a,"label"))return[];var o=a.label;return t.getNodeLabelsFromNewick(s).forEach(function(t){if(t===o)n.add(t);else if((0,r.has)(e,"additionalNodeProperties")&&(0,r.has)(e.additionalNodeProperties,t)&&(0,r.has)(e.additionalNodeProperties[t],"expectedPhyloreferenceNamed")){var a=e.additionalNodeProperties[t].expectedPhyloreferenceNamed;a.includes(o)&&n.add(t)}}),Array.from(n).sort()}},getResolvedNodesForPhylogeny:function(e,t,a){return function(e,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.getBaseURIForPhyloref(n);if(!(0,r.has)(a.phyx.reasoningResults,"phylorefs")||!(0,r.has)(a.phyx.reasoningResults.phylorefs,o))return[];var c=a.phyx.reasoningResults.phylorefs[o],i=t.getBaseURIForPhylogeny(e),d=c.filter(function(e){return e.includes(i)});return s?d.map(function(e){return e.replace("".concat(i,"_"),"")}):d}}},mutations:{setPhylorefProps:function(e,t){if(!(0,r.has)(t,"phyloref"))throw new Error('setPhylorefProps needs a phyloref to modify using the "phyloref" argument');(0,r.has)(t,"label")&&s.default.set(t.phyloref,"label",t.label),(0,r.has)(t,"cladeDefinition")&&s.default.set(t.phyloref,"cladeDefinition",t.cladeDefinition),(0,r.has)(t,"curatorComments")&&s.default.set(t.phyloref,"curatorComments",t.curatorComments)},addSpecifier:function(e,t){if(!(0,r.has)(t,"phyloref"))throw new Error('addSpecifier needs a phyloref to modify using the "phyloref" argument');(0,r.has)(t.phyloref,"externalSpecifiers")||s.default.set(t.phyloref,"externalSpecifiers",[]),t.phyloref.externalSpecifiers.push({referencesTaxonomicUnits:[{}]})},deleteSpecifier:function(e,t){if(!(0,r.has)(t,"phyloref"))throw new Error('deleteSpecifier needs a phyloref to modify using the "phyloref" argument');if(!(0,r.has)(t,"specifier"))throw new Error('deleteSpecifier needs a specifier to delete using the "specifier" argument');(0,r.has)(t.phyloref,"internalSpecifiers")&&t.phyloref.internalSpecifiers.includes(t.specifier)&&t.phyloref.internalSpecifiers.splice(t.phyloref.internalSpecifiers.indexOf(t.specifier),1),(0,r.has)(t.phyloref,"externalSpecifiers")&&t.phyloref.externalSpecifiers.includes(t.specifier)&&t.phyloref.externalSpecifiers.splice(t.phyloref.externalSpecifiers.indexOf(t.specifier),1)},setSpecifierProps:function(e,t){if(!(0,r.has)(t,"specifier"))throw new Error('setSpecifierProps needs a specifier to modify using the "specifier" argument');(0,r.has)(t,"verbatimSpecifier")&&s.default.set(t.specifier,"label",t.verbatimSpecifier)},setSpecifierType:function(e,t){if(!(0,r.has)(t,"phyloref"))throw new Error('setSpecifierType needs a phyloref to modify using the "phyloref" argument');if(!(0,r.has)(t,"specifier"))throw new Error('setSpecifierType needs a specifier to modify using the "specifier" argument');if(!(0,r.has)(t,"specifierType"))throw new Error('setSpecifierType needs a specifierType to set to using the "specifierType" argument');if((0,r.has)(t.phyloref,"internalSpecifiers")&&t.phyloref.internalSpecifiers.includes(t.specifier)&&t.phyloref.internalSpecifiers.splice(t.phyloref.internalSpecifiers.indexOf(t.specifier),1),(0,r.has)(t.phyloref,"externalSpecifiers")&&t.phyloref.externalSpecifiers.includes(t.specifier)&&t.phyloref.externalSpecifiers.splice(t.phyloref.externalSpecifiers.indexOf(t.specifier),1),"internal"===t.specifierType)(0,r.has)(t.phyloref,"internalSpecifiers")?t.phyloref.internalSpecifiers.push(t.specifier):s.default.set(t.phyloref,"internalSpecifiers",[t.specifier]);else{if("external"!==t.specifierType)throw new Error("Unknown specifier type: ".concat(t.specifierType));(0,r.has)(t.phyloref,"externalSpecifiers")?t.phyloref.externalSpecifiers.push(t.specifier):s.default.set(t.phyloref,"externalSpecifiers",[t.specifier])}},addToSpecifier:function(e,t){if(!(0,r.has)(t,"specifier"))throw new Error('addToSpecifier needs a specifier to modify using the "specifier" argument');(0,r.has)(t,"externalReference")&&((0,r.has)(t.specifier,"externalReferences")||s.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.push(t.externalReference)),(0,r.has)(t,"specimen")&&((0,r.has)(t.specifier,"includesSpecimens")||s.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.push(t.specimen)),(0,r.has)(t,"scientificName")&&((0,r.has)(t.specifier,"scientificNames")||s.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.push(t.scientificName))},deleteFromSpecifier:function(e,t){if(!(0,r.has)(t,"specifier"))throw new Error('deleteFromSpecifier needs a specifier to modify using the "specifier" argument');(0,r.has)(t,"scientificName")&&((0,r.has)(t.specifier,"scientificNames")||s.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.includes(t.scientificName)&&t.specifier.scientificNames.splice(t.specifier.scientificNames.indexOf(t.scientificName),1)),(0,r.has)(t,"specimen")&&((0,r.has)(t.specifier,"includesSpecimens")||s.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.includes(t.specimen)&&t.specifier.includesSpecimens.splice(t.specifier.includesSpecimens.indexOf(t.specimen),1)),(0,r.has)(t,"externalReference")&&((0,r.has)(t.specifier,"externalReferences")||s.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.includes(t.externalReference)&&t.specifier.externalReferences.splice(t.specifier.externalReferences.indexOf(t.externalReference),1))}}};t.default=o},"15db":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cadf"),a("551c"),a("097d");var n={state:{phyxBaseURI:""},getters:{getBaseURIForPhylogeny:function(e,t,a){return function(e){return"#phylogeny".concat(a.phyx.currentPhyx.phylogenies.indexOf(e))}},getBaseURIForPhyloref:function(e,t,a){return function(e){return"#phyloref".concat(a.phyx.currentPhyx.phylorefs.indexOf(e))}}}};t.default=n},"199c":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cadf"),a("551c"),a("097d");var s=a("2f62"),r=n(a("f7af")),o=n(a("e896")),c=n(a("ea03")),i=n(a("613e")),d=n(a("8c1e")),l=n(a("6cb3")),u=n(a("22ec")),f=n(a("2cf4")),m={name:"App",components:{TopNavigationBar:r.default,Sidebar:o.default,PhyxView:l.default,PhylogenyView:c.default,PhylorefView:i.default,SpecifierView:d.default,AboutCurationToolModal:u.default,AdvancedOptionsModal:f.default},computed:(0,s.mapState)({CURATION_TOOL_VERSION:function(e){return e.CURATION_TOOL_VERSION},display:function(e){return e.ui.display}})};t.default=m},"19e1":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top"},[a("a",{staticClass:"navbar-brand",attrs:{href:"index.html"}},[e._v("\n      Curation Tool v"+e._s(e.version)+"\n    ")]),e._m(0)])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"collapse navbar-collapse"},[a("ul",{staticClass:"navbar-nav"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#",onclick:"$('#about-curation-tool').modal()"}},[e._v("\n            About this tool\n          ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"https://www.phyloref.org/"}},[e._v("\n            Phyloreferencing website\n          ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"https://github.com/phyloref/curation-tool"}},[e._v("\n            Github repository\n          ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"https://github.com/phyloref/curation-tool/issues"}},[e._v("\n            Report bug\n          ")])])])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},2086:function(e,t,a){"use strict";a.r(t);var n=a("7d63"),s=a("b515");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="ModifiedCard.vue",t["default"]=c.exports},"22ec":function(e,t,a){"use strict";a.r(t);var n=a("44b9"),s=a("2e10");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="AboutCurationToolModal.vue",t["default"]=c.exports},"23be":function(e,t,a){"use strict";a.r(t);var n=a("199c"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},2820:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("7f7f"),a("55dd");var s=n(a("be94")),r=a("2f62"),o=a("2ef0"),c=a("da3d"),i=n(a("2086")),d=n(a("c0e6")),l={name:"PhylorefView",components:{ModifiedCard:i.default,Phylotree:d.default},computed:(0,s.default)({selectedPhylorefLabel:{get:function(){return this.selectedPhyloref.label},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,label:e})}},selectedCladeDefinition:{get:function(){return this.selectedPhyloref.cladeDefinition},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,cladeDefinition:e})}},selectedCuratorComments:{get:function(){return this.selectedPhyloref.curatorComments},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,curatorComments:e})}},phylorefURI:function(){return this.$store.getters.getBaseURIForPhyloref(this.selectedPhyloref)},nodesResolved:function(){if((0,o.has)(this.$store.state.phyx.reasoningResults,"phylorefs"))return(0,o.has)(this.$store.state.phyx.reasoningResults.phylorefs,this.phylorefURI)?this.$store.state.phyx.reasoningResults.phylorefs[this.phylorefURI]:void 0}},(0,r.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},display:function(e){return e.ui.display},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedPhyloref:function(e){return e.ui.display.phyloref}})),methods:{getNodeLabels:function(e,t){return new c.PhylogenyWrapper(e).getNodeLabels(t).sort()},getExpectedNodeLabels:function(e){return new c.PhylorefWrapper(this.selectedPhyloref).getExpectedNodeLabels(e)},getSpecifierLabel:function(e){return c.PhylorefWrapper.getSpecifierLabel(e)},getResolvedNodes:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.$store.getters.getResolvedNodesForPhylogeny(e,this.selectedPhyloref,t)},getResolvedNodeLabels:function(e){var t=this;return this.getResolvedNodes(e).map(function(a){return t.getNodesById(e,a)}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){return e.name})}}};t.default=l},"2cf4":function(e,t,a){"use strict";a.r(t);var n=a("6b05"),s=a("3a2e");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="AdvancedOptionsModal.vue",t["default"]=c.exports},"2e10":function(e,t,a){"use strict";a.r(t);var n=a("9d1d"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"32ae":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"TopNavigationBar",props:{version:{type:String,default:"UNKNOWN"}}};t.default=n},"3a2e":function(e,t,a){"use strict";a.r(t);var n=a("e375"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"3dfd":function(e,t,a){"use strict";a.r(t);var n=a("db84"),s=a("23be");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("034f");var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="App.vue",t["default"]=c.exports},4360:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("2b0e")),r=n(a("2f62")),o=n(a("f902")),c=n(a("f01d")),i=n(a("15db"));s.default.use(r.default);var d=!1,l=new r.default.Store({state:{CURATION_TOOL_VERSION:"0.1"},modules:{phyx:o.default,ui:c.default,owlterms:i.default},strict:d});t.default=l},"44b9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal",attrs:{id:"about-curation-tool",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("\n          About this tool\n        ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])]),a("div",{staticClass:"modal-body col-md-12"},[a("p",[e._v("\n          The Phyloreferencing Curation Tool was built as part of the\n          "),a("a",{attrs:{href:"https://www.phyloref.org"}},[e._v("\n            Phyloreferencing project\n          ")]),e._v(",\n          funded by the US National Science Foundation through collaborative\n          grants "),a("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484"}},[e._v("\n            DBI-1458484\n          ")]),e._v("\n          and "),a("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604"}},[e._v("\n            DBI-1458604\n          ")]),e._v(".\n          See "),a("a",{attrs:{href:"http://www.phyloref.org/about/#funding"}},[e._v("\n            Funding\n          ")]),e._v(" for details.\n        ")]),a("p",[e._v("The Curation Tool uses a number of open-source libraries, including:")]),a("ul",[a("li",[a("a",{attrs:{href:"https://cli.vuejs.org/"}},[e._v("\n              Vue CLI 3\n            ")])]),a("li",[a("a",{attrs:{href:"https://getbootstrap.com/"}},[e._v("\n              Bootstrap\n            ")])]),a("li",[a("a",{attrs:{href:"https://jquery.com/"}},[e._v("\n              jQuery\n            ")])]),a("li",[a("a",{attrs:{href:"https://github.com/veg/phylotree.js"}},[e._v("\n              phylotree.js\n            ")]),e._v(",\n            published as "),a("a",{attrs:{href:"https://doi.org/10.1186/s12859-018-2283-2"}},[e._v("\n              Shank "),a("em",[e._v("et al")]),e._v(", 2018\n            ")])]),a("li",[a("a",{attrs:{href:"https://d3js.org/"}},[e._v("\n              D3.js\n            ")])]),a("li",[a("a",{attrs:{href:"https://momentjs.com/"}},[e._v("\n              Moment.js\n            ")])]),a("li",[a("a",{attrs:{href:"https://github.com/eligrey/FileSaver.js"}},[e._v("\n              FileSaver.js\n            ")])]),a("li",[a("a",{attrs:{href:"https://fontawesome.com/"}},[e._v("\n              Font Awesome\n            ")])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=r(e);return a(t)}function r(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="4678"},4902:function(e,t,a){"use strict";a.r(t);var n=a("c2a3"),s=a("c8c6");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="ModifiedIcon.vue",t["default"]=c.exports},"4a39":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("2ef0"),s={name:"ModifiedIcon",props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,n.isEqual)(this.compare,this.compareTo)}}};t.default=s},5186:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card border-dark"},[a("h5",{staticClass:"card-header border-dark"},[e._v("\n    Phyloreferences in this file\n  ")]),a("div",{staticClass:"card-body p-0"},[a("table",{staticClass:"table table-hover table-flush"},[a("thead",[a("th",[e._v(" ")]),a("th",[e._v("Phyloreference")]),a("th",[e._v("Internal specifiers")]),a("th",[e._v("External specifiers")]),e._l(e.phylogenies,function(t,n){return a("th",[e._v("\n          "+e._s(t.label||"Phylogeny "+n)+"\n        ")])})],2),a("tbody",[0===e.phylorefs.length?a("tr",{staticClass:"bg-white"},[a("td",{attrs:{colspan:4+e.phylogenies.length}},[a("Center",[a("em",[e._v("No phyloreferences loaded")])])],1)]):e._e(),e._l(e.phylorefs,function(t,n){return a("tr",[a("td",[e._v(" ")]),a("td",[a("a",{attrs:{href:"javascript: void(0)"},on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:t})}}},[e._v("\n              "+e._s(t.label||"Phyloref "+n)+"\n            ")])]),a("td",[e._v(e._s((t.internalSpecifiers||[]).length))]),a("td",[e._v(e._s((t.externalSpecifiers||[]).length))]),e._l(e.phylogenies,function(t,n){return a("td",[e._v("\n            TODO\n          ")])})],2)})],2)])])])},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"56d7":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cadf"),a("551c"),a("097d");var s=n(a("2b0e"));a("4989");var r=n(a("9f7b"));a("ab8b"),a("177c");var o=a("ecee"),c=a("c074"),i=a("ad3d"),d=n(a("252c"));a("6eb0");var l=n(a("3dfd")),u=n(a("4360"));o.library.add(c.faExclamationCircle),s.default.component("font-awesome-icon",i.FontAwesomeIcon),s.default.use(r.default),s.default.use(d.default),window.$=a("1157"),s.default.config.productionTip=!1;var f=new s.default({el:"#app",store:u.default,render:function(e){return e(l.default)}});t.default=f},"5c92":function(e,t,a){"use strict";a.r(t);var n=a("32ae"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"5d6d":function(e,t,a){"use strict";a.r(t);var n=a("fad2"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"613e":function(e,t,a){"use strict";a.r(t);var n=a("7d50"),s=a("c0c4");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="PhylorefView.vue",t["default"]=c.exports},"64a9":function(e,t,a){},"6b05":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal",attrs:{id:"advanced-options",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("p",[e._v("\n          The following is a representation of this PHYX in JSON. You\n          can edit the JSON directly if you like.\n        ")]),e.JSONParsingError?a("div",{staticClass:"card text-white bg-danger mb-2"},[a("div",{staticClass:"card-body"},[a("p",{staticClass:"card-text"},[e._v("\n              This JSON could not be parsed: "+e._s(e.JSONParsingError)+"\n            ")])])]):e._e(),a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phyxAsJSON,expression:"phyxAsJSON",modifiers:{lazy:!0}}],staticStyle:{width:"100%",margin:"auto"},attrs:{id:"test-content",rows:"10"},domProps:{value:e.phyxAsJSON},on:{change:function(t){e.phyxAsJSON=t.target.value}}})]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(t){e.downloadAsJSONLD()}}},[e._v("\n          Download as JSON-LD\n        ")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("\n          Advanced options\n        ")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"6cb3":function(e,t,a){"use strict";a.r(t);var n=a("5186"),s=a("8a3e");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="PhyxView.vue",t["default"]=c.exports},"6e54":function(e,t,a){"use strict";var n=a("ed64"),s=a.n(n);s.a},"7c53":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("2f62"),s={name:"PhyxView",computed:(0,n.mapState)({phyx:function(e){return e.phyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies}})};t.default=s},"7d50":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModifiedCard",{attrs:{message:"This phyloreference has been modified since being loaded! Use 'Save as JSON' to save your changes.",compare:e.selectedPhyloref,"compare-to":e.currentPhyx.phylorefs[e.currentPhyx.phylorefs.indexOf(e.selectedPhyloref)]}}),e.display.phylogeny?e._e():a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("\n      Phyloreference information\n    ")]),a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"label"}},[e._v("\n            Label\n          ")]),a("div",{staticClass:"col-md-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPhylorefLabel,expression:"selectedPhylorefLabel"}],staticClass:"form-control",attrs:{id:"label",type:"text",placeholder:"Phyloreference label"},domProps:{value:e.selectedPhylorefLabel},on:{input:function(t){t.target.composing||(e.selectedPhylorefLabel=t.target.value)}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"definition"}},[e._v("\n            Clade definition\n          ")]),a("div",{staticClass:"col-md-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCladeDefinition,expression:"selectedCladeDefinition",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"definition",rows:"6",placeholder:"Phylogenetic clade definition"},domProps:{value:e.selectedCladeDefinition},on:{change:function(t){e.selectedCladeDefinition=t.target.value}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"curator-comments"}},[e._v("\n            Curator comments\n          ")]),a("div",{staticClass:"col-md-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCuratorComments,expression:"selectedCuratorComments",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"curator-comments",rows:"2",placeholder:"Curator notes relating to this phyloreference"},domProps:{value:e.selectedCuratorComments},on:{change:function(t){e.selectedCuratorComments=t.target.value}}})])])])])]),a("div",{staticClass:"card mt-2"},[a("h5",{staticClass:"card-header"},[e._v("\n      Specifiers\n    ")]),a("div",{staticClass:"card-body"},[e._l(e.selectedPhyloref.internalSpecifiers,function(t,n){return a("div",{staticClass:"form-row input-group"},[e._m(0,!0),a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getSpecifierLabel(t)}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:e.selectedPhyloref,specifier:t})}}},[e._v("Edit")])])])}),e._l(e.selectedPhyloref.externalSpecifiers,function(t,n){return a("div",{staticClass:"form-row input-group"},[e._m(1,!0),a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getSpecifierLabel(t)}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",on:{click:function(a){e.$store.commit("changeDisplay",{phyloref:e.selectedPhyloref,specifier:t})}}},[e._v("Edit")])])])}),a("a",{staticClass:"btn btn-primary",on:{click:function(t){e.$store.commit("addSpecifier",{phyloref:e.selectedPhyloref})}}},[e._v("\n        Add specifier\n      ")])],2)]),e._l(e.currentPhyx.phylogenies,function(t,n){return[void 0===e.selectedPhylogeny||e.selectedPhylogeny===t?[a("div",{staticClass:"card mt-2"},[a("h5",{staticClass:"card-header"},[e._v("\n          Expected and actual resolution "),e.display.phylogeny?a("span",[e._v("\n            of "+e._s(e.phyloref.label||"unlabeled phyloreference")+"\n          ")]):e._e(),e._v(" on "+e._s(t.label||"Phylogeny "+(n+1))+"\n        ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-row"},[a("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"expected-nodes"}},[e._v("\n              Expected nodes\n            ")]),a("div",{staticClass:"input-group col-md-4"},[a("div",{staticClass:"input-group-prepend"},[a("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_expected_label_phylogeny_"+n,title:"Click here to jump to the expected label",type:"button"}},[e._v("\n                  Go to node\n                ")])]),0===e.getExpectedNodeLabels(t).length?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",value:"No nodes could be matched"}})]:e._e(),1===e.getExpectedNodeLabels(t).length?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getExpectedNodeLabels(t)[0]}})]:e._e(),e.getExpectedNodeLabels(t).length>1?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getExpectedNodeLabels(t).length+" nodes matched: "+e.getExpectedNodeLabels(t,e.selectedPhyloref).join(", ")}})]:e._e(),a("div",{staticClass:"input-group-append"},[e._m(2,!0),a("div",{staticClass:"dropdown-menu dropright",staticStyle:{height:"30em",overflow:"visible scroll"},attrs:{"aria-labelledby":"expected-nodes-dropdown"}},[a("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled internal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(t,"internal"),function(n){return a("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabels(t).includes(n)},attrs:{href:"#selected-phyloref"},on:{click:function(a){e.togglePhylorefExpectedNodeLabel(t,e.selectedPhyloref,n)}}},[e._v("\n                    "+e._s(n)+"\n                  ")])}),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled terminal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(t,"terminal"),function(n){return a("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabels(t).includes(n)},attrs:{href:"#selected-phyloref"},on:{click:function(a){e.togglePhylorefExpectedNodeLabel(t,e.selectedPhyloref,n)}}},[e._v("\n                    "+e._s(n)+"\n                  ")])})],2)])],2),a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"actual-nodes"}},[e._v("\n              Actual resolved nodes\n            ")]),a("div",{staticClass:"input-group col-md-4"},[a("div",{staticClass:"input-group-prepend"},[a("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_pinning_node_phylogeny_"+n,title:"Click here to jump to this node",type:"button"}},[e._v("\n                  Go to node\n                ")])]),e.nodesResolved?[0===e.getResolvedNodes(t).length?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:"No nodes could be matched"}})]:e._e(),1===e.getResolvedNodes(t).length?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(t)[0]}})]:e._e(),e.getResolvedNodes(t).length>1?[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(t).length+" nodes matched: "+e.getResolvedNodes(t).join(", ")}})]:e._e()]:[a("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",value:"Click 'Reason' to reason over all phyloreferences."}})]],2)]),a("div",{staticClass:"card mt-4 p-2"},[a("Phylotree",{attrs:{"phylogeny-index":n,phylogeny:t,phyloref:e.selectedPhyloref,newick:t.newick}})],1)])])]:e._e()]})],2)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("a",{staticClass:"btn btn-outline-secondary"},[e._v("\n            Internal\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("a",{staticClass:"btn btn-outline-secondary"},[e._v("\n            External\n          ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{id:"expected-nodes-dropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n                  Change "),a("span",{staticClass:"caret"})])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"7d63":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataChanged?a("div",{staticClass:"card mb-2 border-dark"},[a("div",{staticClass:"card-header bg-warning"},[e._v("\n    Warning!\n  ")]),a("div",{staticClass:"card-body"},[e._v("\n    "+e._s(e.message)+"\n  ")])]):e._e()},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},"810f":function(e,t,a){"use strict";a.r(t);var n=a("0417"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"8a2a":function(e,t,a){"use strict";var n=a("0fed"),s=a.n(n);s.a},"8a3e":function(e,t,a){"use strict";a.r(t);var n=a("7c53"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},"8c1e":function(e,t,a){"use strict";a.r(t);var n=a("f72a"),s=a("5d6d");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("6e54");var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,"b4db408a",null);c.options.__file="SpecifierView.vue",t["default"]=c.exports},9033:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("3835")),r=n(a("be94")),o=n(a("2b0e")),c=a("2ef0"),i=a("2f62"),d=a("b2c6"),l=a("da3d"),u=n(a("4902")),f={name:"Sidebar",components:{ModifiedIcon:u.default},data:function(){return{reasoningInProgress:!1}},computed:(0,r.default)({examplePHYXURLs:function(){return[{url:"examples/fisher_et_al_2007.json",title:"Fisher et al, 2007"},{url:"examples/hillis_and_wilcox_2005.json",title:"Hillis and Wilcox, 2005"},{url:"examples/brochu_2003.json",title:"Brochu 2003"}]}},(0,i.mapGetters)(["phyxTitle"]),(0,i.mapState)({phyx:function(e){return e.phyx},currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},selectedPhyloref:function(e){return e.ui.display.phyloref},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedSpecifier:function(e){return e.ui.display.specifier}})),methods:{getSpecifierLabel:function(e){return l.PhylorefWrapper.getSpecifierLabel(e)},promptAndSetDict:function(e,t,a){var n=window.prompt(e,t[a]);void 0!==n&&null!==n&&o.default.set(t,a,n)},loadPhyxFromURL:function(e){var t=this;$.getJSON(e).done(function(e){t.$store.commit("setCurrentPhyx",e),t.$store.commit("setLoadedPhyx",e),t.$store.commit("changeDisplay",{})}).fail(function(t){200===t.status?alert("Could not load PHYX file '".concat(e,"': file malformed, see console for details.")):alert("Could not load PHYX file '".concat(e,"': server error ").concat(t.status," ").concat(t.statusText))})},loadPhyxFromFileInputById:function(e){var t=this;if("function"===typeof window.FileReader){var a=$(e);if(a)if(a.prop("files"))if(a.prop("files")[0]){var n=a.prop("files"),r=(0,s.default)(n,1),o=r[0],c=new FileReader;c.onload=function(e){var a=e.target.result,n=JSON.parse(a);t.$store.commit("setCurrentPhyx",n),t.$store.commit("setLoadedPhyx",n),t.$store.commit("changeDisplay",{})},c.readAsText(o)}else alert("Please select a file before attempting to load it.");else alert("File input element found, but files property missing: try another browser?");else alert("Programmer error: No file input element specified.")}else alert("The FileReader API is not supported on this browser.")},downloadAsJSON:function(){var e=[this.$store.getters.getPhyxAsJSON],t=new File(e,"download.json",{type:"application/json;charset=utf-8"});(0,d.saveAs)(t),this.$store.commit("setLoadedPhyx")},reasonOverPhyloreferences:function(){var e=this;this.reasoningInProgress||(this.reasoningInProgress=!0,$.post("http://localhost:34214/reason",{jsonld:JSON.stringify([new l.PHYXWrapper(this.$store.state.phyx.currentPhyx,d3.layout.newick_parser).asJSONLD()],void 0,4)}).done(function(t){e.$store.commit("setReasoningResults",t)}).fail(function(e,t,a){var n=a;(0,c.has)(e,"responseJSON")&&(0,c.has)(e.responseJSON,"error")&&(n=e.responseJSON.error),void 0!==n&&""!==n||(n="unknown error"),alert("Error occurred on server while reasoning: ".concat(n))}).always(function(){e.reasoningInProgress=!1}))}}};t.default=f},"910f":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(a("be94")),r=a("2f62"),o=a("35a7"),c=n(a("2086")),i=n(a("c0e6")),d={name:"PhylogenyView",components:{ModifiedCard:c.default,Phylotree:i.default},computed:(0,s.default)({phylogenyLabel:{get:function(){return this.selectedPhylogeny.label},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,label:e})}},phylogenyDescription:{get:function(){return this.selectedPhylogeny.description},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,description:e})}},phylogenyNewick:{get:function(){return this.selectedPhylogeny.newick},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,newick:e})}},phylogenyNewickErrors:function(){var e=this.selectedPhylogeny.newick.trim(),t=[];if(""===e||"()"===e||"();"===e)return[{title:"No phylogeny entered",message:'Click on "Edit as Newick" to enter a phylogeny below.'}];for(var a=0,n=0;n<e.length;n+=1)"("===e[n]&&(a+=1),")"===e[n]&&(a-=1);0!==a&&t.push({title:"Unbalanced parentheses in Newick string",message:a>0?"You have ".concat(a," too many open parentheses"):"You have ".concat(-a," too few open parentheses")});try{(0,o.parse)(e)}catch(s){t.push({title:"Error parsing phylogeny",message:"An error occured while parsing this phylogeny: ".concat(s.message)})}return t}},(0,r.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},selectedPhylogeny:function(e){return e.ui.display.phylogeny}}))};t.default=d},"9ce4":function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("ac6a"),a("4f7f"),a("5df3"),a("1c4c");var s=n(a("3835")),r=n(a("2b0e")),o=a("35a7"),c=a("2ef0"),i=a("da3d"),d={getters:{getNodeLabelsFromNewick:function(e,t){return function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both",n=(0,o.parse)(e||"()"),r=n.graph,c=(0,s.default)(r,2),i=c[0],d=c[1];if("both"===a)return Array.from(new Set(Array.from(i).map(function(e){return e.label}).filter(function(e){return void 0!==e})));if("internal"===a)return Array.from(new Set(Array.from(d).map(function(e){return e[0].label}).filter(function(e){return void 0!==e})));if("terminal"===a){var l=t.getNodeLabelsFromNewick(e,"both"),u=new Set(t.getNodeLabelsFromNewick(e,"internal"));return l.filter(function(e){return!u.has(e)})}throw new Error("Unknown nodeType: '".concat(a,"'"))}},getTaxonomicUnitsForNodeLabel:function(e,t){return function(e,a){var n={};return(0,c.has)(e,"additionalNodeProperties")&&(0,c.has)(e.additionalNodeProperties,a)&&(n=e.additionalNodeProperties[a]),(0,c.has)(n,"representsTaxonomicUnits")?n.representsTaxonomicUnits:t.getTaxonomicUnitsFromNodeLabel(a.trim())}},getTaxonomicUnitsFromNodeLabel:function(){return function(e){if(void 0===e||null===e)return[];var t=[],a=/^([A-Z][a-z]+)[ _]([a-z-]+)(?:\b|_)\s*(.*)/.exec(e);return t=null!==a?[{scientificNames:[{scientificName:"".concat(a[1]," ").concat(a[2]," ").concat(a[3]).trim(),binomialName:"".concat(a[1]," ").concat(a[2]),genus:a[1],specificEpithet:a[2]}]}]:[],t}},getNodeLabelsMatchedBySpecifier:function(e,t){return function(e,a){if(!(0,c.has)(a,"referencesTaxonomicUnits"))return[];var n=a.referencesTaxonomicUnits;return t.getNodeLabelsFromNewick(e.newick||"()").filter(function(a){var s=t.getTaxonomicUnitsForNodeLabel(e,a);return n.some(function(e){return s.some(function(t){return new i.TaxonomicUnitMatcher(e,t).matched})})})}}},mutations:{setPhylogenyProps:function(e,t){if(!(0,c.has)(t,"phylogeny"))throw new Error('setPhylogenyProps needs a phylogeny to modify using the "phylogeny" argument');(0,c.has)(t,"label")&&r.default.set(t.phylogeny,"label",t.label),(0,c.has)(t,"description")&&r.default.set(t.phylogeny,"description",t.description),(0,c.has)(t,"newick")&&r.default.set(t.phylogeny,"newick",t.newick)}}};t.default=d},"9d1d":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"AboutCurationToolModal"};t.default=n},b515:function(e,t,a){"use strict";a.r(t);var n=a("caa2"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},c0c4:function(e,t,a){"use strict";a.r(t);var n=a("2820"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},c0e6:function(e,t,a){"use strict";a.r(t);var n=a("f851"),s=a("810f");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("8a2a");var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="Phylotree.vue",t["default"]=c.exports},c2a3:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataChanged?a("div",{staticClass:"float-right",attrs:{title:e.message}},[a("FontAwesomeIcon",{attrs:{size:"lg",icon:"exclamation-circle"}})],1):e._e()},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},c8c6:function(e,t,a){"use strict";a.r(t);var n=a("4a39"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},caa2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("2ef0"),s={name:"ModifiedCard",props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,n.isEqual)(this.compare,this.compareTo)}}};t.default=s},d6e1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModifiedCard",{attrs:{message:"This phylogeny has been modified since being loaded. Use 'Save as JSON' to save your changes.",compare:e.selectedPhylogeny,"compare-to":e.loadedPhyx.phylogenies[e.currentPhyx.phylogenies.indexOf(e.selectedPhylogeny)]}}),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny information\n    ")]),a("div",{staticClass:"card-body"},[a("form",[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyLabel"}},[e._v("\n            Label\n          ")]),a("div",{staticClass:"col-md-10"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyLabel,expression:"phylogenyLabel",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyLabel",type:"text",placeholder:"Enter phylogeny name"},domProps:{value:e.phylogenyLabel},on:{input:function(t){t.target.composing||(e.phylogenyLabel=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyDescription"}},[e._v("\n            Description\n          ")]),a("div",{staticClass:"col-md-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyDescription,expression:"phylogenyDescription",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyDescription",type:"text",placeholder:"Enter phylogeny description"},domProps:{value:e.phylogenyDescription},on:{input:function(t){t.target.composing||(e.phylogenyDescription=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-2 control-label",attrs:{for:"newick"}},[e._v("\n            Newick\n          ")]),a("div",{staticClass:"col-md-10 input-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phylogenyNewick,expression:"phylogenyNewick",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{rows:"5",placeholder:"Enter Newick string for phylogeny here"},domProps:{value:e.phylogenyNewick},on:{change:function(t){e.phylogenyNewick=t.target.value}}})])])])])]),0!==e.phylogenyNewickErrors.length?a("div",{staticClass:"card border-dark mt-2"},[a("h5",{staticClass:"card-header bg-danger"},[e._v("\n      Errors occurred while parsing Newick string\n    ")]),a("div",{staticClass:"card-body"},[e._l(e.phylogenyNewickErrors,function(t,n){return[a("p",[a("strong",[e._v(e._s(t.title)+".")]),e._v(" "+e._s(t.message))])]})],2)]):e._e(),0===e.phylogenyNewickErrors.length?a("div",{staticClass:"card mt-2"},[a("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny visualization\n    ")]),a("div",{staticClass:"card-body"},[a("Phylotree",{attrs:{phylogeny:e.selectedPhylogeny,newick:e.phylogenyNewick}})],1)]):e._e()],1)},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},db33:function(e,t,a){"use strict";a.r(t);var n=a("910f"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},db84:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("TopNavigationBar",{attrs:{version:e.CURATION_TOOL_VERSION}}),a("div",{attrs:{id:"wrapper"}},[a("Sidebar"),a("div",{attrs:{id:"page-content-wrapper"}},[e.display.phyloref?[e.display.specifier?[a("SpecifierView",{attrs:{phyloref:e.display.phyloref,specifier:e.display.specifier}})]:[a("PhylorefView",{attrs:{phyloref:e.display.phyloref,specifier:e.display.specifier}})]]:e.display.phylogeny?[a("PhylogenyView",{attrs:{phylogeny:e.display.phylogeny}})]:[a("PhyxView")]],2)],1),a("AboutCurationToolModal"),a("AdvancedOptionsModal")],1)},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},e00f:function(e,t,a){},e375:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("da3d"),s=a("b2c6"),r={name:"AdvancedOptionsPanel",data:function(){return{JSONParsingError:void 0}},computed:{phyxAsJSON:{get:function(){return this.$store.getters.getPhyxAsJSON},set:function(e){try{var t=JSON.parse(e);this.$store.commit("setCurrentPhyx",t),this.JSONParsingError=void 0}catch(a){this.JSONParsingError=a.message}}}},methods:{downloadAsJSONLD:function(){var e=new n.PHYXWrapper(this.$store.state.phyx.currentPhyx),t=[JSON.stringify([e.asJSONLD()],void 0,4)],a=new File(t,"download.jsonld",{type:"application/json;charset=utf-8"});(0,s.saveAs)(a)}}};t.default=r},e443:function(e,t,a){"use strict";var n=a("e00f"),s=a.n(n);s.a},e896:function(e,t,a){"use strict";a.r(t);var n=a("0159"),s=a("f4ef");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="Sidebar.vue",t["default"]=c.exports},ea03:function(e,t,a){"use strict";a.r(t);var n=a("d6e1"),s=a("db33");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);a("e443");var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="PhylogenyView.vue",t["default"]=c.exports},ed64:function(e,t,a){},f01d:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cadf"),a("551c"),a("097d");var s=n(a("2b0e")),r={state:{display:{phyloref:void 0,phylogeny:void 0,specifier:void 0}},mutations:{changeDisplay:function(e,t){s.default.set(e,"display",t)}}};t.default=r},f4ef:function(e,t,a){"use strict";a.r(t);var n=a("9033"),s=a.n(n);for(var r in n)"default"!==r&&function(e){a.d(t,e,function(){return n[e]})}(r);t["default"]=s.a},f72a:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ModifiedCard",{attrs:{message:"This specifier has been modified since being loaded! Use 'Save as JSON' to save your changes.",compare:e.selectedSpecifier,"compare-to":e.loadedSpecifier}}),a("div",{staticClass:"card"},[a("h5",{staticClass:"card-header"},[e._v("\n      Specifier\n    ")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specifier-type"}},[e._v("\n          Specifier type\n        ")]),a("div",{staticClass:"col-md-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.specifierType,expression:"specifierType"}],staticClass:"form-control",attrs:{id:"specifier-type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.specifierType=t.target.multiple?a:a[0]}}},[a("option",[e._v("Internal specifier")]),a("option",[e._v("External specifier")])])])]),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-form-label col-md-2",attrs:{for:"verbatim-specifier"}},[e._v("\n          Verbatim specifier\n        ")]),a("div",{staticClass:"col-md-10"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.selectedVerbatimSpecifier,expression:"selectedVerbatimSpecifier",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"verbatim-specifier",type:"text",placeholder:"Enter the verbatim description of this specifier"},domProps:{value:e.selectedVerbatimSpecifier},on:{input:function(t){t.target.composing||(e.selectedVerbatimSpecifier=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),a("div",{staticClass:"card mb-2"},[a("h6",{staticClass:"card-header"},[e._v("\n          Scientific names\n        ")]),a("div",{staticClass:"card-body"},[e._l(e.selectedSpecifierFirstTUnit.scientificNames,function(t,n){return a("div",[a("div",{staticClass:"sciname"},[a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.scientificName}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary details",attrs:{type:"button",onclick:"$(this).parents().filter('.sciname').find('.details').toggleClass('d-none')"}},[e._v("\n                    Show details\n                  ")]),a("button",{staticClass:"btn btn-outline-secondary details d-none",attrs:{type:"button",onclick:"$(this).parents().filter('.sciname').find('.details').toggleClass('d-none')"}},[e._v("\n                    Hide details\n                  ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){e.$store.commit("deleteFromSpecifier",{specifier:e.selectedSpecifierFirstTUnit,scientificName:t})}}},[e._v("\n                    ✗\n                  ")])])]),e._m(0,!0)])])}),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.addNewScientificName,expression:"addNewScientificName",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter a new scientific name here."},domProps:{value:e.addNewScientificName},on:{change:function(t){e.addNewScientificName=t.target.value}}})],2)]),a("div",{staticClass:"card mb-2"},[a("h6",{staticClass:"card-header"},[e._v("\n          Specimens\n        ")]),a("div",{staticClass:"card-body"},[e._l(e.selectedSpecifierFirstTUnit.includesSpecimens,function(t,n){return a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.occurrenceID}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[e._v("\n                Show details\n              ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){e.$store.commit("deleteFromSpecifier",{specifier:e.selectedSpecifierFirstTUnit,specimen:t})}}},[e._v("\n                ✗\n              ")])])])}),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.addNewSpecimen,expression:"addNewSpecimen",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter a new specimen identifier here."},domProps:{value:e.addNewSpecimen},on:{change:function(t){e.addNewSpecimen=t.target.value}}})],2)]),a("div",{staticClass:"card mb-2"},[a("h6",{staticClass:"card-header"},[e._v("\n          External references\n        ")]),a("div",{staticClass:"card-body"},[e._l(e.selectedSpecifierFirstTUnit.externalReferences,function(t,n){return a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text"},domProps:{value:t}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"}},[e._v("\n                Show details\n              ")]),a("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){e.$store.commit("deleteFromSpecifier",{specifier:e.selectedSpecifierFirstTUnit,externalReference:t})}}},[e._v("\n                ✗\n              ")])])])}),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.addNewExternalReference,expression:"addNewExternalReference",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter a new external reference URI here."},domProps:{value:e.addNewExternalReference},on:{change:function(t){e.addNewExternalReference=t.target.value}}})],2)]),a("a",{staticClass:"btn btn-secondary mr-2 float-right",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.$store.commit("changeDisplay",{phyloref:e.selectedPhyloref})}}},[e._v("\n        Close specifier view\n      ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript: void(0)"},on:{click:function(t){e.$store.commit("deleteSpecifier",{phyloref:e.selectedPhyloref,specifier:e.selectedSpecifier})}}},[e._v("\n        Delete specifier\n      ")])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"details d-none"},[a("li",[e._v("Scientific name: TODO")]),a("li",[e._v("Genus: TODO")]),a("li",[e._v("Specific epithet: TODO")])])}];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},f7af:function(e,t,a){"use strict";a.r(t);var n=a("19e1"),s=a("5c92");for(var r in s)"default"!==r&&function(e){a.d(t,e,function(){return s[e]})}(r);var o=a("2877"),c=Object(o["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="TopNavigationBar.vue",t["default"]=c.exports},f851:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.newickErrors?[a("p",[a("strong",[e._v("Error parsing phylogeny.")]),e._v("\n      Please\n      "),a("a",{attrs:{href:"javascript: void"},on:{click:function(t){e.$store.commit("changeDisplay",{phylogeny:e.phylogeny})}}},[e._v("\n        edit the phylogeny\n      ")]),e._v("\n      to fix this error.\n    ")])]:a("div",{staticClass:"phylotreeContainer"},[a("svg",{staticClass:"col-md-12 phylogeny",attrs:{id:"phylogeny"+e.phylogenyIndex}}),a("ResizeObserver",{on:{notify:function(t){e.redrawTree()}}})],1)],2)},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},f902:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cadf"),a("551c"),a("097d");var s=n(a("2b0e")),r=n(a("9ce4")),o=n(a("0ff4")),c={state:{currentPhyx:{phylorefs:[],phylogenies:[]},loadedPhyx:{phylorefs:[],phylogenies:[]},reasoningResults:void 0},getters:{getPhyxAsJSON:function(e){return JSON.stringify(e.currentPhyx,void 0,4)}},mutations:{setCurrentPhyx:function(e,t){s.default.set(e,"currentPhyx",t),s.default.set(e,"reasoningResults",void 0)},setLoadedPhyx:function(e,t){void 0===t||t===e.currentPhyx?s.default.set(e,"loadedPhyx",JSON.parse(JSON.stringify(e.currentPhyx))):s.default.set(e,"loadedPhyx",t)},createEmptyPhyloref:function(e){e.currentPhyx.phylorefs.push({})},createEmptyPhylogeny:function(e){e.currentPhyx.phylogenies.push({})},setReasoningResults:function(e,t){s.default.set(e,"reasoningResults",t)}},modules:{phylogeny:r.default,phyloref:o.default}};t.default=c},fad2:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("6762"),a("2fdb");var s=n(a("be94")),r=a("2ef0"),o=a("2f62"),c=n(a("2086")),i={name:"SpecifierView",components:{ModifiedCard:c.default},computed:(0,s.default)({loadedSpecifier:function(){var e=this.loadedPhyx,t=this.currentPhyx,a=e.phylorefs[t.phylorefs.indexOf(this.selectedPhyloref)];if(void 0!==a)return(0,r.has)(this.selectedPhyloref,"internalSpecifiers")&&this.selectedPhyloref.internalSpecifiers.includes(this.selectedSpecifier)?a.internalSpecifiers[this.selectedPhyloref.internalSpecifiers.indexOf(this.selectedSpecifier)]:(0,r.has)(this.selectedPhyloref,"externalSpecifiers")&&this.selectedPhyloref.externalSpecifiers.includes(this.selectedSpecifier)?a.externalSpecifiers[this.selectedPhyloref.externalSpecifiers.indexOf(this.selectedSpecifier)]:void 0},specifierType:{get:function(){return(0,r.has)(this.selectedPhyloref,"internalSpecifiers")&&this.selectedPhyloref.internalSpecifiers.includes(this.selectedSpecifier)?"Internal specifier":(0,r.has)(this.selectedPhyloref,"externalSpecifiers")&&this.selectedPhyloref.externalSpecifiers.includes(this.selectedSpecifier)?"External specifier":void 0},set:function(e){if("Internal specifier"==e)this.$store.commit("setSpecifierType",{phyloref:this.selectedPhyloref,specifier:this.selectedSpecifier,specifierType:"internal"});else{if("External specifier"!=e)throw new Error("Unknown specifier type: ".concat(e));this.$store.commit("setSpecifierType",{phyloref:this.selectedPhyloref,specifier:this.selectedSpecifier,specifierType:"external"})}}},selectedVerbatimSpecifier:{get:function(){return this.selectedSpecifier.verbatimSpecifier},set:function(e){this.$store.commit("setSpecifierProps",{specifier:this.selectedSpecifier,verbatimSpecifier:e})}},selectedSpecifierFirstTUnit:{get:function(){return(0,r.has)(this.selectedSpecifier,"referencesTaxonomicUnits")||(this.selectedSpecifier.referencesTaxonomicUnits=[{}]),this.selectedSpecifier.referencesTaxonomicUnits[0]}},addNewScientificName:{get:function(){return""},set:function(e){""!==e.trim()&&this.$store.commit("addToSpecifier",{specifier:this.selectedSpecifierFirstTUnit,scientificName:{scientificName:e}})}},addNewSpecimen:{get:function(){return""},set:function(e){""!==e.trim()&&this.$store.commit("addToSpecifier",{specifier:this.selectedSpecifierFirstTUnit,specimen:{occurrenceID:e}})}},addNewExternalReference:{get:function(){return""},set:function(e){""!==e.trim()&&this.$store.commit("addToSpecifier",{specifier:this.selectedSpecifierFirstTUnit,externalReference:e})}}},(0,o.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedPhyloref:function(e){return e.ui.display.phyloref},selectedSpecifier:function(e){return e.ui.display.specifier},selectedTUnit:function(e){return e.ui.display.tunit}}))};t.default=i}});
//# sourceMappingURL=app.a13c333e.js.map