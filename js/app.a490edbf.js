(function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/klados/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0139":function(e,t,n){"use strict";n("8114")},"03d1":function(e,t,n){},"0417":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb"),n("7f7f"),n("ac6a"),n("5df3"),n("4f7f"),n("c5f6");var r=n("2ef0"),i=n("9068"),o={name:"Phylotree",props:{phylogeny:Object,phyloref:Object,spacingX:{type:Number,default:20},phylogenyIndex:{type:String,default:(0,r.uniqueId)()},selectedNodeLabel:{type:String,required:!1}},data:function(){return{pinningNodes:[],pinningNodeChildrenIRIs:new Set}},computed:{reasoningResults:function(){return this.$store.state.resolution.reasoningResults},newickAsString:function(){return this.phylogeny.newick||"()"},parsedNewick:function(){return new i.PhylogenyWrapper(this.phylogeny).getParsedNewickWithIRIs(this.$store.getters.getPhylogenyId(this.phylogeny),d3.layout.newick_parser)},newickErrors:function(){if(!(0,r.has)(this.parsedNewick,"json")||null===this.parsedNewick.json)return(0,r.has)(this.parsedNewick,"error")?this.parsedNewick.error:"unknown error"},tree:function(){var e=this,t=d3.layout.phylotree().svg(d3.select("#phylogeny".concat(this.phylogenyIndex))).options({"internal-names":!1,transitions:!1,"left-right-spacing":"fit-to-size","top-bottom-spacing":"fixed-step"}).style_nodes((function(n,o){var a=new i.PhylogenyWrapper(e.phylogeny||{}),s=(new i.PhylorefWrapper(e.phyloref||{}),n.selectAll("text"));if((0,r.has)(o,"name")&&""!==o.name&&o.children&&(e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()!==o.name.toLowerCase()?s.empty()||s.remove():(s.empty()&&(s=n.append("text")),s.classed("internal-label",!0).text(o.name).attr("dx","0.3em").attr("dy","0.35em"),e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()===o.name.toLowerCase()&&(s.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),s.classed("selected-internal-label",!0)))),o.menu_items=[],d3.layout.phylotree.add_custom_menu(o,(function(e){return"Rename this node"}),(function(){var n=o,r=n.name||"(none)",i=window.prompt("Rename node named '".concat(r,"' to:"));n.name=i&&"undefined"!=i?i:"",e.$store.commit("setPhylogenyProps",{phylogeny:e.phylogeny,newick:t.get_newick((function(e){if(!t.is_leafnode(e))return e.name}))})}),(function(e){return!0})),void 0!==e.phyloref&&(0,r.has)(o,"@id")&&e.$store.getters.getResolvedNodesForPhylogeny(e.phylogeny,e.phyloref).includes(o["@id"])&&(e.pinningNodes.push(o),e.recurseNodes(o,(function(t){return e.pinningNodeChildrenIRIs.add(t["@id"])})),n.classed("pinning-node",!0),n.select("circle").attr("r",6),n.attr("id","current_pinning_node_phylogeny_".concat(e.phylogenyIndex))),(0,r.has)(o,"@id")&&e.pinningNodeChildrenIRIs.has(o["@id"])&&n.classed("descendant-of-pinning-node-node",!0),void 0!==o.name&&void 0===o.children){var l=a.getTaxonomicUnitsForNodeLabel(o.name);0===l.length?n.classed("terminal-node-without-tunits",!0):void 0!==e.phyloref&&((0,r.has)(e.phyloref,"label")&&e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()===o.name.toLowerCase()&&s.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),(0,r.has)(e.phyloref,"internalSpecifiers")&&e.phyloref.internalSpecifiers.some((function(e){return a.getNodeLabelsMatchedBySpecifier(e).includes(o.name)}))&&n.classed("internal-specifier-node",!0),(0,r.has)(e.phyloref,"externalSpecifiers")&&e.phyloref.externalSpecifiers.some((function(e){return a.getNodeLabelsMatchedBySpecifier(e).includes(o.name)}))&&n.classed("external-specifier-node",!0))}})).style_edges((function(t,n){(0,r.has)(n,"source")&&(0,r.has)(n.source,"@id")&&e.pinningNodeChildrenIRIs.has(n.source["@id"])?t.classed("descendant-of-pinning-node-branch",!0):t.classed("descendant-of-pinning-node-branch",!1)}));return t(this.parsedNewick),t}},watch:{phyloref:function(){this.redrawTree()},reasoningResults:function(){this.redrawTree()},phylogeny:function(){this.redrawTree()},selectedNodeLabel:function(){this.redrawTree()},newickAsString:function(){this.redrawTree()}},mounted:function(){this.redrawTree()},methods:{recurseNodes:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t(e,i,o);var a=i+1;return(0,r.has)(e,"children")&&e.children.forEach((function(e){a=n.recurseNodes(e,t,a,i)})),a},redrawTree:function(){this.pinningNodes=[],this.pinningNodeChildrenIRIs=new Set,this.tree.font_size(16).size([0,$("#phylogeny".concat(this.phylogenyIndex)).innerWidth()]).spacing_x(this.spacingX).update()}}};t.default=o},"0630":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",[e.newickErrors?[t("p",[t("strong",[e._v("Error parsing phylogeny.")]),e._v("\n      Please\n      "),t("a",{attrs:{href:"javascript: void"},on:{click:function(t){return e.$store.commit("changeDisplay",{phylogeny:e.phylogeny})}}},[e._v("\n        edit the phylogeny\n      ")]),e._v("\n      to fix this error.\n    ")])]:t("div",{staticClass:"phylotreeContainer"},[t("svg",{staticClass:"col-md-12 phylogeny",attrs:{id:"phylogeny"+e.phylogenyIndex}}),t("ResizeObserver",{on:{notify:e.redrawTree}})],1)],2)};t.render=r;var i=[];t.staticRenderFns=i},"064b":function(e,t,n){"use strict";var r=n("2c8c");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"0ff4":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb"),n("ac6a");var i=r(n("2b0e")),o=n("9068"),a=n("2ef0"),s={getters:{getPhylorefType:function(){return function(e){var t=(e.internalSpecifiers||[]).length,n=(e.externalSpecifiers||[]).length;if(n>0){if(t>0)return"Maximum clade definition"}else if(t>0)return t>1?"Minimum clade definition":"Invalid definition (single internal specifier cannot be resolved)";return"Invalid definition (must have at least one internal specifier)"}}},mutations:{setPhylorefProps:function(e,t){if(!(0,a.has)(t,"phyloref"))throw new Error('setPhylorefProps needs a phyloref to modify using the "phyloref" argument');if((0,a.has)(t,"label")&&i.default.set(t.phyloref,"label",t.label),(0,a.has)(t,"cladeDefinition")&&i.default.set(t.phyloref,"cladeDefinition",t.cladeDefinition),(0,a.has)(t,"curatorComments")&&i.default.set(t.phyloref,"curatorComments",t.curatorComments),(0,a.has)(t,"expectedResolution")){if(!(0,a.has)(t,"phylogenyId"))throw new Error('setPhylorefProps used to set expectedResolution needs a phylogeny ID to set using the "phylogenyId" argument');(0,a.has)(t.phyloref,"expectedResolution")||i.default.set(t.phyloref,"expectedResolution",{}),i.default.set(t.phyloref.expectedResolution,t.phylogenyId,t.expectedResolution)}},addExternalSpecifier:function(e,t){if(!(0,a.has)(t,"phyloref"))throw new Error('addSpecifier needs a phyloref to modify using the "phyloref" argument');(0,a.has)(t.phyloref,"externalSpecifiers")||i.default.set(t.phyloref,"externalSpecifiers",[]),t.phyloref.externalSpecifiers.push({})},addInternalSpecifier:function(e,t){if(!(0,a.has)(t,"phyloref"))throw new Error('addSpecifier needs a phyloref to modify using the "phyloref" argument');(0,a.has)(t.phyloref,"internalSpecifiers")||i.default.set(t.phyloref,"internalSpecifiers",[]),t.phyloref.internalSpecifiers.push({})},deleteSpecifier:function(e,t){if(!(0,a.has)(t,"phyloref"))throw new Error('deleteSpecifier needs a phyloref to modify using the "phyloref" argument');if(!(0,a.has)(t,"specifier"))throw new Error('deleteSpecifier needs a specifier to delete using the "specifier" argument');new o.PhylorefWrapper(t.phyloref).deleteSpecifier(t.specifier)},setSpecifierProps:function(e,t){if(!(0,a.has)(t,"specifier"))throw new Error('setSpecifierProps needs a specifier to modify using the "specifier" argument');if(!(0,a.has)(t,"props"))throw new Error('setSpecifierProps needs properties to set this specifier to using the "props" argument');var n=t.specifier,r=t.props;(0,a.keys)(n).forEach((function(e){return i.default.delete(n,e)})),(0,a.keys)(r).forEach((function(e){return i.default.set(n,e,(0,a.cloneDeep)(r[e]))}))},setSpecifierType:function(e,t){if(!(0,a.has)(t,"phyloref"))throw new Error('setSpecifierType needs a phyloref to modify using the "phyloref" argument');if(!(0,a.has)(t,"specifier"))throw new Error('setSpecifierType needs a specifier to modify using the "specifier" argument');if(!(0,a.has)(t,"specifierType"))throw new Error('setSpecifierType needs a specifierType to set to using the "specifierType" argument');if((0,a.has)(t.phyloref,"internalSpecifiers")&&t.phyloref.internalSpecifiers.includes(t.specifier)&&t.phyloref.internalSpecifiers.splice(t.phyloref.internalSpecifiers.indexOf(t.specifier),1),(0,a.has)(t.phyloref,"externalSpecifiers")&&t.phyloref.externalSpecifiers.includes(t.specifier)&&t.phyloref.externalSpecifiers.splice(t.phyloref.externalSpecifiers.indexOf(t.specifier),1),"Internal"===t.specifierType)(0,a.has)(t.phyloref,"internalSpecifiers")?t.phyloref.internalSpecifiers.push(t.specifier):i.default.set(t.phyloref,"internalSpecifiers",[t.specifier]);else{if("External"!==t.specifierType)throw new Error("Unknown specifier type: ".concat(t.specifierType));(0,a.has)(t.phyloref,"externalSpecifiers")?t.phyloref.externalSpecifiers.push(t.specifier):i.default.set(t.phyloref,"externalSpecifiers",[t.specifier])}},setSpecifierPart:function(e,t){if(!(0,a.has)(t,"specifierPart"))throw new Error('setSpecifierPart needs a specifier part to modify using the "specifierPart" argument');(0,a.has)(t,"scientificName")&&i.default.set(t.specifierPart,"scientificName",t.scientificName),(0,a.has)(t,"occurrenceID")&&i.default.set(t.specifierPart,"occurrenceID",t.occurrenceID)},updateSpecifierExternalReference:function(e,t){if(!(0,a.has)(t,"specifier"))throw new Error('updateSpecifierExternalReference needs a specifier to modify using the "specifier" argument');(0,a.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),(0,a.has)(t,"fromExternalReference")&&t.specifier.externalReferences.includes(t.fromExternalReference)&&t.specifier.externalReferences.splice(t.specifier.externalReferences.indexOf(t.fromExternalReference),1),(0,a.has)(t,"toExternalReference")&&t.specifier.externalReferences.push(t.toExternalReference)},addToSpecifier:function(e,t){if(!(0,a.has)(t,"specifier"))throw new Error('addToSpecifier needs a specifier to modify using the "specifier" argument');(0,a.has)(t,"externalReference")&&((0,a.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.push(t.externalReference)),(0,a.has)(t,"specimen")&&((0,a.has)(t.specifier,"includesSpecimens")||i.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.push(t.specimen)),(0,a.has)(t,"scientificName")&&((0,a.has)(t.specifier,"scientificNames")||i.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.push(t.scientificName))},deleteFromSpecifier:function(e,t){if(!(0,a.has)(t,"specifier"))throw new Error('deleteFromSpecifier needs a specifier to modify using the "specifier" argument');(0,a.has)(t,"scientificName")&&((0,a.has)(t.specifier,"scientificNames")||i.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.includes(t.scientificName)&&t.specifier.scientificNames.splice(t.specifier.scientificNames.indexOf(t.scientificName),1)),(0,a.has)(t,"specimen")&&((0,a.has)(t.specifier,"includesSpecimens")||i.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.includes(t.specimen)&&t.specifier.includesSpecimens.splice(t.specifier.includesSpecimens.indexOf(t.specimen),1)),(0,a.has)(t,"externalReference")&&((0,a.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.includes(t.externalReference)&&t.specifier.externalReferences.splice(t.specifier.externalReferences.indexOf(t.externalReference),1))}}};t.default=s},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},1420:function(e,t,n){},15:function(e,t){},"17e1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"card border-dark"},[t("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phyloreference collection\n    ")]),t("div",{staticClass:"card-body"},[t("form",[e.phylorefs.length>1||e.phyx.title?t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"phyx-label"}},[e._v("\n            Collection name\n          ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phyx.title,expression:"phyx.title"}],staticClass:"form-control",attrs:{id:"phyx-label",type:"text",placeholder:"Enter title here"},domProps:{value:e.phyx.title},on:{input:function(t){t.target.composing||e.$set(e.phyx,"title",t.target.value)}}})])]):e._e(),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"curator-name"}},[e._v("\n            Curated by\n          ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCurator,expression:"phyxCurator"}],staticClass:"form-control",attrs:{id:"curator-name",type:"text",placeholder:"Curator name"},domProps:{value:e.phyxCurator},on:{input:function(t){t.target.composing||(e.phyxCurator=t.target.value)}}})]),t("div",{staticClass:"col-md-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCuratorEmail,expression:"phyxCuratorEmail"}],staticClass:"form-control",attrs:{id:"curator-email",type:"email",placeholder:"Curator e-mail address"},domProps:{value:e.phyxCuratorEmail},on:{input:function(t){t.target.composing||(e.phyxCuratorEmail=t.target.value)}}})]),t("div",{staticClass:"col-md-3 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCuratorORCID,expression:"phyxCuratorORCID"}],staticClass:"form-control",attrs:{id:"external-reference",placeholder:"Curator ORCID"},domProps:{value:e.phyxCuratorORCID},on:{input:function(t){t.target.composing||(e.phyxCuratorORCID=t.target.value)}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary",attrs:{target:"_blank",href:"https://orcid.org/"+e.phyxCuratorORCID}},[e._v("\n                Open in new window\n              ")])])])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"default-nomen-code"}},[e._v("\n            Default nomenclatural code\n          ")]),t("div",{staticClass:"col-md-10"},[t("select",{staticClass:"form-control",attrs:{id:"nomen-code"},domProps:{value:e.$store.getters.getDefaultNomenCodeURI},on:{change:function(t){return e.$store.commit("setDefaultNomenCodeURI",{defaultNomenclaturalCodeURI:t.target.value})}}},e._l(e.nomenCodes,(function(n,r){return t("option",{domProps:{value:n.uri}},[e._v("\n                "+e._s(n.label)+"\n              ")])})),0)])])])])]),t("div",{staticClass:"card border-dark mt-2"},[t("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phyloreferences in this file\n    ")]),t("div",{staticClass:"card-body p-0"},[t("table",{staticClass:"table table-hover table-flush"},[t("thead",[t("th",[e._v(" ")]),t("th",[e._v("Phyloreference")]),t("th",[e._v("Type")]),t("th",[e._v("Internal specifiers")]),t("th",[e._v("External specifiers")]),e._l(e.phylogenies,(function(n,r){return t("th",[e._v("\n            "+e._s(e.getPhylogenyLabel(n))+"\n          ")])}))],2),t("tbody",[0===e.phylorefs.length?t("tr",{staticClass:"bg-white"},[t("td",{attrs:{colspan:4+e.phylogenies.length}},[t("Center",[t("em",[e._v("No phyloreferences in this file")])])],1)]):e._e(),e._l(e.phylorefs,(function(n,r){return t("tr",[t("td",[t("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deletePhyloref(n)}}},[e._v("\n                ✕\n              ")])]),t("td",[t("a",{attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phyloref:n})}}},[e._v("\n                "+e._s(e.getPhylorefLabel(n))+"\n              ")])]),t("td",[e._v(e._s(e.$store.getters.getPhylorefType(n)))]),t("td",[e._v(e._s((n.internalSpecifiers||[]).length))]),t("td",[e._v(e._s((n.externalSpecifiers||[]).length))]),e._l(e.phylogenies,(function(r,i){return t("td",[e.getPhylorefExpectedNodeLabel(n,r)?[e._v("\n                Expected to resolve to node "+e._s(e.getPhylorefExpectedNodeLabel(n,r))+"\n                "),e.hasReasoningResults(n)?[0===e.getNodeLabelsResolvedByPhyloref(n,r).length?[e._v("\n                    but "),t("strong",[e._v("did not resolve to any node")])]:e.getNodeLabelsResolvedByPhyloref(n,r).length>1?[e._v("\n                    but "),t("strong",[e._v("resolved to multiple nodes: "+e._s(e.getNodeLabelsResolvedByPhyloref(n,r)))])]:[e._v("\n                    and resolved\n                    "),e.getNodeLabelsResolvedByPhyloref(n,r)[0]===e.getPhylorefExpectedNodeLabel(n,r)?[e._v("\n                      correctly\n                    ")]:[t("strong",[e._v("incorrectly")])],e._v("\n                    to "+e._s(e.getNodeLabelsResolvedByPhyloref(n,r)[0]||"an unlabeled node")+"\n                  ")]]:e._e()]:[t("strong",[e._v("No expected node")]),e.hasReasoningResults(n)?[0===e.getNodeLabelsResolvedByPhyloref(n,r).length?[e._v("\n                    but "),t("strong",[e._v("did not resolve to any node")])]:e.getNodeLabelsResolvedByPhyloref(n,r).length>1?[e._v("\n                    but "),t("strong",[e._v("resolved to multiple nodes: "+e._s(e.getNodeLabelsResolvedByPhyloref(n,r)))])]:[e._v("\n                    and resolved to "+e._s(e.getNodeLabelsResolvedByPhyloref(n,r)[0]||"an unlabeled node")+"\n                  ")]]:e._e()]],2)}))],2)}))],2)])]),t("div",{staticClass:"card-footer"},[t("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phyx file management"}},[t("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("createEmptyPhyloref")}}},[e._v("\n          Add phyloreference\n        ")]),t("button",{staticClass:"btn btn-secondary",attrs:{href:"javascript:;"},on:{click:function(t){return e.exportAsCSV()}}},[e._v("\n          Export as CSV\n        ")])])])]),t("div",{staticClass:"card border-dark mt-2"},[t("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phylogenies in this file\n    ")]),t("div",{staticClass:"card-body p-0"},[t("table",{staticClass:"table table-hover table-flush"},[e._m(0),t("tbody",[0===e.phylogenies.length?t("tr",{staticClass:"bg-white"},[t("td",{attrs:{colspan:3}},[t("Center",[t("em",[e._v("No phylogenies in this file")])])],1)]):e._e(),e._l(e.phylogenies,(function(n,r){return t("tr",[t("td",[t("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(t){return e.deletePhylogeny(n)}}},[e._v("\n                ✕\n              ")])]),t("td",[t("a",{attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phylogeny:n})}}},[e._v("\n                "+e._s(e.getPhylogenyLabel(n))+"\n              ")])]),t("td",[e._v("\n              "+e._s(n.description)+"\n            ")])])}))],2)])]),t("div",{staticClass:"card-footer"},[t("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phylogeny management"}},[t("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("createEmptyPhylogeny")}}},[e._v("\n          Add phylogeny\n        ")])])])])])};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("thead",[t("th",[e._v(" ")]),t("th",[e._v("Phylogeny")]),t("th",[e._v("Description")])])}];t.staticRenderFns=i},"199c":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2ef0"),o=n("2f62"),a=r(n("f7af")),s=r(n("e896")),l=r(n("ea03")),c=r(n("613e")),d=r(n("6cb3")),u=r(n("22ec")),f=r(n("2cf4")),p={name:"App",components:{TopNavigationBar:a.default,Sidebar:s.default,PhyxView:d.default,PhylogenyView:l.default,PhylorefView:c.default,AboutCurationToolModal:u.default,AdvancedOptionsModal:f.default},data:function(){return{version:"release/v0.4.0"}},computed:(0,o.mapState)({display:function(e){return e.ui.display},currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx}}),watch:{currentPhyx:function(){console.log("currentPhyx changed; resetting resolution results."),this.$store.commit("setReasoningResults",void 0)}},created:function(){var e=this;$(window).on("beforeunload",(function(){var t="Your modifications have not been saved and will be lost if you close Klados. Confirm to discard your changes, or cancel to return to Klados.";return!(0,i.isEqual)(e.loadedPhyx,e.currentPhyx)&&t}))}};t.default=p},"1b48":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("b54a"),n("7f7f");var i=r(n("d225")),o=r(n("b0b4")),a=r(n("2b0e")),s=n("2ef0");function l(e){return!!(0,s.isString)(e)&&0!==e.trim().length}var c=function(){function e(t){(0,i.default)(this,e),this.citation=t}return(0,o.default)(e,[{key:"toString",value:function(){if(this.citation&&!(0,s.isEmpty)(this.citation)){var e=this.authorsAsStrings;0===e.length&&(e=["Anonymous"]),e.length>2&&(e=["".concat(e[0]," et al")]);var t="".concat(e.join(" and ")," (").concat(this.citation.year||"n.d.",") ").concat(this.citation.title||"Untitled"),n=[],r=this.editorsAsStrings;r.length>0&&n.push("eds: ".concat(r.join(" and ")));var i=this.seriesEditorsAsStrings;i.length>0&&n.push("series eds: ".concat(i.join(" and "))),n.length>0&&(t+=" [".concat(n.join(", "),"]")),(0,s.has)(this.citation,"section_title")&&(t+=" (section: ".concat(this.citation.section_title,")"));var o=" ";if((0,s.has)(this.citation,"figure")&&(o+=" fig ".concat(this.citation.figure)),o+=this.doisAsStrings.map((function(e){return" doi: ".concat(e)})).join(""),o+=this.urlsAsStrings.map((function(e){return" URL: ".concat(e)})).join(""),o+=this.isbns.map((function(e){return" ISBN: ".concat(e)})).join(""),(0,s.has)(this.citation,"journal")&&"article"===this.citation.type){var a=this.citation.journal,l=(0,s.has)(a,"number")?"(".concat(a.number,")"):"",c=(0,s.has)(this.citation,"pages")?":".concat(this.citation.pages):"";return o+=this.issns.map((function(e){return"ISSN: ".concat(e," ")})).join(""),"".concat(t," ").concat(a.name||"Unknown journal"," ").concat(a.volume||"Unknown volume").concat(l).concat(c).concat(o)}return(0,s.has)(this.citation,"pages")&&(o+=" pages: ".concat(this.citation.pages)),(0,s.has)(this.citation,"publisher")&&(0,s.has)(this.citation,"city")?"".concat(t," ").concat(this.citation.publisher,", ").concat(this.citation.city).concat(o):(0,s.has)(this.citation,"publisher")?"".concat(t," ").concat(this.citation.publisher).concat(o):"".concat(t).concat(o)}}},{key:"authors",get:function(){var e=this.citation;return(0,s.has)(e,"authors")?Array.isArray(e.authors)?e.authors:[e.authors]:[]},set:function(e){a.default.set(this.citation,"authors",e)}},{key:"authorsAsStrings",get:function(){return this.authors.map((function(e){return e.name}))},set:function(e){a.default.set(this.citation,"authors",e.filter(l).map((function(e){return{name:e}})))}},{key:"editorsAsStrings",get:function(){return(0,s.has)(this.citation,"editors")?this.citation.editors.map((function(e){return e.name})):[]},set:function(e){a.default.set(this.citation,"editors",e.filter(l).map((function(e){return{name:e}})))}},{key:"seriesEditorsAsStrings",get:function(){return(0,s.has)(this.citation,"series_editors")?this.citation.series_editors.map((function(e){return e.name})):[]},set:function(e){a.default.set(this.citation,"series_editors",e.filter(l).map((function(e){return{name:e}})))}},{key:"identifiers",get:function(){var e=this.citation;return(0,s.has)(e,"identifier")?Array.isArray(e.identifier)?e.identifier:[e.identifier]:[]},set:function(e){a.default.set(this.citation,"identifier",e)}},{key:"doisAsStrings",get:function(){return this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"doi"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)})).map((function(e){return e.id}))},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"doi"!==e.type})).concat(e.filter(l).map((function(e){return{type:"doi",id:e}})))}},{key:"isbns",get:function(){return this.identifiers.map((function(e){return(0,s.has)(e,"type")&&"isbn"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)?[e.id]:[]})).reduce((function(e,t){return e.concat(t)}),[])},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"isbn"!==e.type})).concat(e.filter(l).map((function(e){return{type:"isbn",id:e}})))}},{key:"issns",get:function(){return this.identifiers.map((function(e){return(0,s.has)(e,"type")&&"issn"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)?[e.id]:[]})).reduce((function(e,t){return e.concat(t)}),[])},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"issn"!==e.type})).concat(e.filter(l).map((function(e){return{type:"issn",id:e}})))}},{key:"firstDOI",get:function(){var e=this.doisAsStrings||[];if(e.length>0)return e[0]}},{key:"urlsAsStrings",get:function(){return(0,s.has)(this.citation,"link")?this.citation.link.map((function(e){return e.url})):[]},set:function(e){a.default.set(this.citation,"link",e.filter(l).map((function(e){return{url:e}})))}},{key:"firstURL",get:function(){if(this.urlsAsStrings.length>0)return this.urlsAsStrings[0]}},{key:"url",get:function(){return this.firstURL?this.firstURL:this.firstDOI?"http://doi.org/".concat(encodeURI(this.firstDOI)):this.isbns.length>0?"https://www.worldcat.org/search?q=bn%3A".concat(encodeURI(this.isbns[0])):this.issns.length>0?"https://www.worldcat.org/search?q=n2%3A".concat(encodeURI(this.issns[0])):(0,s.has)(this.citation,"type")&&(0,s.has)(this.citation,"title")?"article"===this.citation.type?"https://search.crossref.org/?q=".concat(encodeURI(this.citation.title)):"https://www.worldcat.org/search?q=".concat(encodeURI(this.citation.title)):void 0}},{key:"journal",get:function(){return(0,s.has)(this.citation,"journal")||a.default.set(this.citation,"journal",{}),this.citation.journal}}]),e}(),d={getters:{getWrappedCitation:function(){return function(e){return new c(e)}}},mutations:{setCitations:function(e,t){a.default.set(t.object,t.citationKey,t.citations)}}};t.default=d},"1f55":function(e,t,n){"use strict";var r=n("f351");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},2:function(e,t){},2086:function(e,t,n){"use strict";n.r(t);var r=n("e6b3"),i=n("b515");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"22ec":function(e,t,n){"use strict";n.r(t);var r=n("4abe"),i=n("2e10");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"23be":function(e,t,n){"use strict";n.r(t);var r=n("199c"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},2670:function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a481"),n("6762"),n("2fdb");var i=r(n("2b0e")),o=n("2ef0"),a=n("9068"),s={state:{reasoningResults:void 0},getters:{getBaseURIForPhylogeny:function(e,t,n){return function(e){return"#phylogeny".concat(n.phyx.currentPhyx.phylogenies.indexOf(e))}},getBaseURIForPhyloref:function(e,t,n){return function(e){return"#phyloref".concat(n.phyx.currentPhyx.phylorefs.indexOf(e))}},getPhylogenyId:function(e,t){return function(e){return(0,o.has)(e,"@id")?e["@id"]:t.getBaseURIForPhylogeny(e)}},getPhylorefId:function(e,t){return function(e){return(0,o.has)(e,"@id")?e["@id"]:t.getBaseURIForPhyloref(e)}},getResolvedNodesForPhylogeny:function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.getPhylorefId(r);if(!(0,o.has)(e.reasoningResults,"phylorefs")||!(0,o.has)(e.reasoningResults.phylorefs,a))return[];var s=e.reasoningResults.phylorefs[a],l=t.getPhylogenyId(n),c=s.filter((function(e){return e.includes("".concat(l,"_"))}));if(!i)return c;var d=c.map((function(e){return e.replace("".concat(l,"_"),"")}));return d}},getExpectedResolution:function(e,t){return function(e,n){if(!(0,o.has)(e,"expectedResolution"))return{};var r=t.getPhylogenyId(n);return(0,o.has)(e.expectedResolution,r)?e.expectedResolution[r]:{}}},getExpectedNodeLabel:function(e,t){return function(e,n){var r=t.getExpectedResolution(e,n);if((0,o.has)(r,"nodeLabel"))return r.nodeLabel;var i=new a.PhylogenyWrapper(n).getNodeLabels();return e.label&&i.includes(e.label)?e.label:void 0}}},mutations:{setReasoningResults:function(e,t){i.default.set(e,"reasoningResults",t)}},actions:{setExpectedResolution:function(e,t){var n=t.phylogeny,r=t.phyloref,i=t.expectedResolutionData,a=n["@id"];a||(a=e.getters.getPhylogenyId(n),e.commit("setPhylogenyProps",{phylogeny:n,"@id":a}));var s=(0,o.cloneDeep)(r.expectedResolution||{}),l=s[a]||{};(0,o.has)(i,"description")&&(l.description=i.description),(0,o.has)(i,"nodeLabel")&&(l.nodeLabel=i.nodeLabel),i.phylogenyId=a,e.commit("setPhylorefProps",{phyloref:r,expectedResolution:l,phylogenyId:a})}}};t.default=s},2820:function(e,t,n){"use strict";var r=n("288e");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("55dd");var i=r(n("bd86")),o=(r(n("2b0e")),n("2f62")),a=(n("2ef0"),n("9068")),s=r(n("2086")),l=r(n("c0e6")),c=r(n("8e95")),d=r(n("c4a9"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"PhylorefView",components:{ModifiedCard:s.default,Phylotree:l.default,Citation:c.default,Specifier:d.default},computed:f({selectedPhylorefLabel:{get:function(){return this.selectedPhyloref.label},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,label:e})}},selectedCladeDefinition:{get:function(){return this.selectedPhyloref.cladeDefinition},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,cladeDefinition:e})}},selectedCuratorComments:{get:function(){return this.selectedPhyloref.curatorComments},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,curatorComments:e})}},computedPhylorefType:function(){return this.$store.getters.getPhylorefType(this.selectedPhyloref)},phylorefURI:function(){return this.$store.getters.getPhylorefId(this.selectedPhyloref)},noSpecifiers:function(){return 0===(this.selectedPhyloref.internalSpecifiers||[]).length&&0===(this.selectedPhyloref.externalSpecifiers||[]).length}},(0,o.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},display:function(e){return e.ui.display},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedPhyloref:function(e){return e.ui.display.phyloref}})),methods:{getExpectedResolution:function(e){return this.$store.getters.getExpectedResolution(this.selectedPhyloref,e)},setExpectedResolution:function(e,t){this.$store.dispatch("setExpectedResolution",{phyloref:this.selectedPhyloref,phylogeny:e,expectedResolutionData:t})},getNodeLabels:function(e,t){return new a.PhylogenyWrapper(e).getNodeLabels(t).sort()},getExpectedNodeLabel:function(e){return this.$store.getters.getExpectedNodeLabel(this.selectedPhyloref,e)},getSpecifierLabel:function(e){return a.PhylorefWrapper.getSpecifierLabel(e)},getResolvedNodes:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.$store.getters.getResolvedNodesForPhylogeny(e,this.selectedPhyloref,t)}}};t.default=p},"29f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return e.dataChanged?t("div",{staticClass:"card mb-2 border-dark"},[t("div",{staticClass:"card-body bg-warning"},[e._v("\n    "+e._s(e.message)+"\n  ")])]):e._e()};t.render=r;var i=[];t.staticRenderFns=i},"2c1e":function(e,t,n){"use strict";var r=n("0630");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"2c8c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("TopNavigationBar",{attrs:{version:e.version}}),t("div",{attrs:{id:"wrapper"}},[t("Sidebar"),t("div",{attrs:{id:"page-content-wrapper"}},[e.display.phyloref?[t("PhylorefView",{attrs:{phyloref:e.display.phyloref,specifier:e.display.specifier}})]:e.display.phylogeny?[t("PhylogenyView",{attrs:{phylogeny:e.display.phylogeny}})]:[t("PhyxView")]],2)],1),t("AboutCurationToolModal"),t("AdvancedOptionsModal")],1)};t.render=r;var i=[];t.staticRenderFns=i},"2cf4":function(e,t,n){"use strict";n.r(t);var r=n("7acd"),i=n("3a2e");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"2e10":function(e,t,n){"use strict";n.r(t);var r=n("9d1d"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},3:function(e,t){},"30a4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"sidebar-wrapper"}},[t("div",{staticClass:"card bg-dark"},[t("div",{staticClass:"list-group list-group-flush"},[t("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Actions\n      ")]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#file-input').trigger('click')"}},[e._v("\n        Read from local JSON file\n      ")]),t("input",{staticClass:"d-none",attrs:{id:"file-input",type:"file"},on:{change:function(t){return e.loadPhyxFromFileInputById("#file-input")}}}),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('.phyx-examples').toggleClass('d-none')"}},[e._v("\n        Read an example file\n      ")]),e._l(e.examplePHYXURLs,(function(n){return t("a",{staticClass:"list-group-item list-group-item-action phyx-examples d-none small",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.loadPhyxFromURL(n.url)}}},[e._v("\n        ● "+e._s(n.title)+"\n      ")])})),e._m(0),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.downloadAsJSON()}}},[e._v("\n        Save\n        "),t("ModifiedIcon",{attrs:{message:"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.",compare:e.currentPhyx,"compare-to":e.loadedPhyx}})],1),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.downloadAsJSONLD()}}},[e._v("\n        Export as JSON-LD\n      ")]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.downloadAsNQuads()}}},[e._v("\n        Export as ontology\n      ")]),t("a",{staticClass:"list-group-item list-group-item-action start-reasoning",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.reasonOverPhyloreferences()}}},[e.reasoningInProgress?t("span",[e._v("\n          (Reasoning in progress)\n        ")]):t("span",[e._v("\n          Resolve against phylogenies\n        ")])]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#advanced-options').modal()"}},[e._v("\n        Advanced\n      ")])],2)]),t("div",{staticClass:"card mt-2 bg-dark"},[t("div",{staticClass:"list-group list-group-flush"},[t("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phyloreferences\n      ")]),t("a",{staticClass:"list-group-item list-group-item-action",class:{active:!e.selectedPhyloref&&!e.selectedPhylogeny},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{})}}},[t("em",[e._v("Summary")])]),e._l(e.phylorefs,(function(n,r){return[t("a",{staticClass:"h6 list-group-item list-group-item-action border-dark",class:{active:e.selectedPhyloref===n},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phyloref:n})}}},[n.label?t("span",[e._v("\n            "+e._s(n.label)+"\n          ")]):t("span",[e._v("\n            "+e._s("Phyloreference "+(r+1))+"\n          ")]),t("ModifiedIcon",{attrs:{message:"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.",compare:n,"compare-to":e.loadedPhyx.phylorefs[r]}})],1),e.selectedPhyloref===n?[e._l(n.internalSpecifiers,(function(r,i){return t("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===r},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phyloref:n,specifier:r})}}},[e._v("\n            ● "),t("strong",[e._v("Internal:")]),e._v(" "+e._s(e.getSpecifierLabel(r))+"\n          ")])})),e._l(n.externalSpecifiers,(function(r,i){return t("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===r},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phyloref:n,specifier:r})}}},[e._v("\n            ● "),t("strong",[e._v("External:")]),e._v(" "+e._s(e.getSpecifierLabel(r))+"\n          ")])})),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("addSpecifier",{phyloref:n})}}},[e._v("\n            ● "),t("em",[e._v("Add specifier")])])]:e._e()]})),t("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("createEmptyPhyloref")}}},[t("em",[e._v("Add phyloreference")])])],2)]),t("div",{staticClass:"card mt-2 bg-dark"},[t("div",{staticClass:"list-group list-group-flush"},[t("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phylogenies\n      ")]),e._l(e.phylogenies,(function(n,r){return t("a",{staticClass:"h6 list-group-item list-group-item-action border-dark",class:{active:e.selectedPhylogeny===n},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{phylogeny:n})}}},[e._v("\n        "+e._s(n.label||"Phylogeny ".concat(r+1))+"\n\n        "),t("ModifiedIcon",{attrs:{message:"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.",compare:n,"compare-to":e.loadedPhyx.phylogenies[r]}})],1)})),t("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("createEmptyPhylogeny")}}},[t("em",[e._v("Add phylogeny")])]),t("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.dispatch("createPhylogenyFromOpenTree")}}},[t("em",[e._v("Add Open Tree of Life phylogeny")])])],2)])])};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"list-group-item list-group-item-action phyx-examples d-none small",attrs:{href:"javascript: void(0)",onclick:"$('.phyx-examples').toggleClass('d-none')"}},[t("em",[e._v("Close list of examples")])])}];t.staticRenderFns=i},"32ae":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"TopNavigationBar",props:{version:{type:String,default:"(unversioned)"}}};t.default=r},3377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",[t("ModifiedCard",{attrs:{message:"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.",compare:e.selectedPhyloref,"compare-to":e.loadedPhyx.phylorefs[e.currentPhyx.phylorefs.indexOf(e.selectedPhyloref)]}}),e.display.phylogeny?e._e():t("div",{staticClass:"card"},[t("h5",{staticClass:"card-header"},[e._v("\n      Phyloreference information\n    ")]),t("div",{staticClass:"card-body"},[t("form",[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"label"}},[e._v("\n            Label\n          ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPhylorefLabel,expression:"selectedPhylorefLabel"}],staticClass:"form-control",attrs:{id:"label",type:"text",placeholder:"Phyloreference label"},domProps:{value:e.selectedPhylorefLabel},on:{input:function(t){t.target.composing||(e.selectedPhylorefLabel=t.target.value)}}})])]),t("Citation",{attrs:{label:"Name published in",object:e.selectedPhyloref,"citation-key":"dwc:namePublishedIn"}}),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"definition"}},[e._v("\n            Definition in free-form text\n          ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCladeDefinition,expression:"selectedCladeDefinition",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"definition",rows:"6",placeholder:"Phylogenetic clade definition"},domProps:{value:e.selectedCladeDefinition},on:{change:function(t){e.selectedCladeDefinition=t.target.value}}})])]),t("Citation",{attrs:{label:"Definition published in",object:e.selectedPhyloref,"citation-key":"definitionSource"}}),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"curator-comments"}},[e._v("\n            Curator comments\n          ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCuratorComments,expression:"selectedCuratorComments",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"curator-comments",rows:"2",placeholder:"e.g. 'Specifier X not included in reference phylogeny'"},domProps:{value:e.selectedCuratorComments},on:{change:function(t){e.selectedCuratorComments=t.target.value}}})])])],1)]),t("div",{staticClass:"card-footer"},[t("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phyloreference management"}},[t("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.$store.commit("duplicatePhyloref",{phyloref:e.selectedPhyloref})}}},[e._v("\n          Duplicate phyloreference\n        ")])])])]),t("div",{staticClass:"card mt-2"},[t("h5",{staticClass:"card-header"},[e._v("\n      Specifiers\n    ")]),t("div",{staticClass:"card-body"},[t("form",[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"phyloref-type"}},[e._v("\n            Phyloreference type\n          ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.computedPhylorefType,expression:"computedPhylorefType"}],staticClass:"form-control",attrs:{id:"phyloref-type",type:"text",readonly:""},domProps:{value:e.computedPhylorefType},on:{input:function(t){t.target.composing||(e.computedPhylorefType=t.target.value)}}})])])]),t("h5",[e._v("Internal specifiers")]),e.selectedPhyloref.internalSpecifiers&&0!==e.selectedPhyloref.internalSpecifiers.length?e._e():[e._m(0)],e._l(e.selectedPhyloref.internalSpecifiers,(function(n,r){return t("div",{staticClass:"form-row input-group"},[t("Specifier",{key:"internal"+r,attrs:{phyloref:e.selectedPhyloref,"remote-specifier":n,"remote-specifier-id":"internal"+r}})],1)})),t("h5",{staticClass:"mt-2"},[e._v("\n        External specifiers\n      ")]),e.selectedPhyloref.externalSpecifiers&&0!==e.selectedPhyloref.externalSpecifiers.length?e._e():[e._m(1)],e._l(e.selectedPhyloref.externalSpecifiers,(function(n,r){return t("div",{staticClass:"form-row input-group"},[t("Specifier",{key:"external"+r,attrs:{phyloref:e.selectedPhyloref,"remote-specifier":n,"remote-specifier-id":"external"+r}})],1)}))],2),t("div",{staticClass:"card-footer"},[t("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Internal specifier management"}},[t("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("addInternalSpecifier",{phyloref:e.selectedPhyloref})}}},[e._v("\n          Add internal specifier\n        ")])]),t("div",{staticClass:"btn-group ml-2",attrs:{role:"group","area-label":"External specifier management"}},[t("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("addExternalSpecifier",{phyloref:e.selectedPhyloref})}}},[e._v("\n          Add external specifier\n        ")])])])]),e._l(e.currentPhyx.phylogenies,(function(n,r){return[void 0===e.selectedPhylogeny||e.selectedPhylogeny===n?[t("div",{staticClass:"card mt-2"},[t("h5",{staticClass:"card-header"},[e._v("\n          Expected and actual resolution "),e.display.phylogeny?t("span",[e._v("\n            of "+e._s(e.phyloref.label||"unlabeled phyloreference")+"\n          ")]):e._e(),e._v(" on "+e._s(n.label||"Phylogeny ".concat(r+1))+"\n        ")]),t("div",{staticClass:"card-body"},[t("Citation",{attrs:{label:"Reference phylogeny",object:n,"citation-key":"primaryPhylogenyCitation"}}),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"expected-resolution-"+r}},[e._v("\n              Expected resolution in free-form text\n            ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{staticClass:"form-control",attrs:{id:"expected-resolution-"+r,rows:"3",placeholder:"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'"},domProps:{value:e.getExpectedResolution(n).description},on:{change:function(t){return e.setExpectedResolution(n,{description:t.target.value})}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"expected-nodes"}},[e._v("\n              Expected nodes\n            ")]),t("div",{staticClass:"input-group col-md-10 pb-2"},[t("div",{staticClass:"input-group-prepend"},[t("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_expected_label_phylogeny_"+r,title:"Click here to jump to the expected label",role:"button"}},[e._v("Go to node")])]),e.getExpectedNodeLabel(n)?e._e():[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:"No node labeled '"+e.selectedPhylorefLabel+"' found in phylogeny"}})],e.getExpectedNodeLabel(n)?[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getExpectedNodeLabel(n)}})]:e._e(),t("div",{staticClass:"input-group-append"},[e._m(2,!0),t("div",{staticClass:"dropdown-menu dropright",staticStyle:{height:"30em",overflow:"visible scroll"},attrs:{"aria-labelledby":"expected-nodes-dropdown"}},[t("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled internal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(n,"internal"),(function(r){return t("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabel(n)===r},attrs:{href:"#selected-phyloref"},on:{click:function(t){return e.setExpectedResolution(n,{nodeLabel:r})}}},[e._v("\n                    "+e._s(r)+"\n                  ")])})),t("div",{staticClass:"dropdown-divider"}),t("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled terminal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(n,"terminal"),(function(r){return t("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabel(n)===r},attrs:{href:"#selected-phyloref"},on:{click:function(t){return e.setExpectedResolution(n,{nodeLabel:r})}}},[e._v("\n                    "+e._s(r)+"\n                  ")])}))],2)])],2),t("label",{staticClass:"col-form-label col-md-2 pb-2",attrs:{for:"actual-nodes"}},[e._v("\n              Actual resolved nodes\n            ")]),t("div",{staticClass:"input-group col-md-10 pb-2"},[t("div",{staticClass:"input-group-prepend"},[t("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_pinning_node_phylogeny_"+r,title:"Click here to jump to this node",role:"button"}},[e._v("Go to node")])]),e.$store.state.resolution.reasoningResults?[0===e.getResolvedNodes(n).length?[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:"No nodes could be resolved"}})]:e._e(),1===e.getResolvedNodes(n).length?[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(n)[0]}})]:e._e(),e.getResolvedNodes(n).length>1?[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(n).length+" nodes matched: "+e.getResolvedNodes(n).join(", ")}})]:e._e()]:[t("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",value:"Click 'Reason' to reason over all phyloreferences."}})]],2)]),t("div",{staticClass:"card mt-4 p-2"},[t("Phylotree",{attrs:{"phylogeny-index":String(r),phylogeny:n,phyloref:e.selectedPhyloref,newick:n.newick,"selected-node-label":e.getExpectedNodeLabel(n)}})],1)],1)])]:e._e()]}))],2)};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("p",[t("em",[e._v("No internal specifiers in this phyloreference.")])])},function(){var e=this,t=e._self._c;return t("p",[t("em",[e._v("No external specifiers in this phyloreference.")])])},function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{id:"expected-nodes-dropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n                  Change "),t("span",{staticClass:"caret"})])}];t.staticRenderFns=i},"369d":function(e,t,n){"use strict";var r=n("ac3e");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},3889:function(e,t,n){},"3a2e":function(e,t,n){"use strict";n.r(t);var r=n("e375"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"3dfd":function(e,t,n){"use strict";n.r(t);var r=n("064b"),i=n("23be");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("6f51");var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},4:function(e,t){},4360:function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2b0e")),o=r(n("2f62")),a=r(n("9ce4")),s=r(n("0ff4")),l=r(n("f902")),c=r(n("2670")),d=r(n("f01d")),u=r(n("1b48"));i.default.use(o.default);var f=!1,p=new o.default.Store({state:{CURATION_TOOL_VERSION:"0.1"},modules:{phylogeny:a.default,phyloref:s.default,phyx:l.default,ui:d.default,citations:u.default,resolution:c.default},strict:f});t.default=p},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="4678"},4902:function(e,t,n){"use strict";n.r(t);var r=n("1f55"),i=n("c8c6");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"4a39":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("2ef0"),i=n("ecee"),o=n("c074"),a=n("ad3d");i.library.add(o.faExclamationCircle);var s={name:"ModifiedIcon",components:{FontAwesomeIcon:a.FontAwesomeIcon},props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,r.isEqual)(this.compare,this.compareTo)}}};t.default=s},"4abe":function(e,t,n){"use strict";var r=n("e08d");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},5:function(e,t){},"56d7":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("cadf"),n("551c"),n("f751"),n("097d");var i=r(n("2b0e"));n("4989");var o=r(n("5f5b"));n("ab8b"),n("177c");var a=r(n("252c"));n("6eb0");var s=r(n("3dfd")),l=r(n("4360"));window.$=n("1157"),i.default.prototype.$config=n("db49"),i.default.use(o.default),i.default.use(a.default),i.default.config.productionTip=!1;var c=new i.default({el:"#app",store:l.default,render:function(e){return e(s.default)}});t.default=c},"5c2c":function(e,t,n){"use strict";var r=n("30a4");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"5c92":function(e,t,n){"use strict";n.r(t);var r=n("32ae"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},6:function(e,t){},6089:function(e,t,n){"use strict";var r=n("17e1");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"613e":function(e,t,n){"use strict";n.r(t);var r=n("90fe"),i=n("c0c4");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"6cb3":function(e,t,n){"use strict";n.r(t);var r=n("6089"),i=n("8a3e");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},"6f51":function(e,t,n){"use strict";n("3889")},7:function(e,t){},"7a1e":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6762"),n("2fdb");var i=r(n("2b0e")),o=n("5f5b"),a=n("2ef0"),s={name:"Citation",components:{BIcon:o.BIcon,BIconTrash:o.BIconTrash},props:{label:{type:String,default:"Citation"},object:{type:Object,required:!0},citationKey:{type:String,required:!0}},data:function(){var e=this.getCitationsFromProps();return{citationsExpanded:[],citations:e,newDOI:""}},watch:{citations:function(){this.updateCitations()},object:function(){this.citations=this.getCitationsFromProps()},citationKey:function(){this.citations=this.getCitationsFromProps()}},methods:{deleteCitation:function(e){confirm("Are you sure you wish to delete this citation?")&&(Array.isArray(this.object[this.citationKey])?this.object[this.citationKey].splice(e,1):i.default.delete(this.object,this.citationKey))},getCitationsFromProps:function(){return Array.isArray(this.object[this.citationKey])?(0,a.cloneDeep)(this.object[this.citationKey]):(0,a.isEmpty)(this.object[this.citationKey])?[]:[(0,a.cloneDeep)(this.object[this.citationKey])]},updateCitations:function(){if(!(0,a.isEmpty)(this.citations)){var e=(0,a.cloneDeep)(this.citations).map((function(e){return(0,a.has)(e,"journal")&&(0,a.isEqual)((0,a.pickBy)(e.journal),{})&&delete e.journal,e}));if(!(0,a.isEqual)(e,this.object[this.citationKey]))if(1===e.length){if((0,a.isEqual)(e[0],this.object[this.citationKey]))return;console.log("Updating citations as ",e[0]," differs from ",this.object[this.citationKey]),this.$store.commit("setCitations",{object:this.object,citationKey:this.citationKey,citations:e[0]})}else console.log("Updating citations as ",e," differs from ",this.object[this.citationKey]),this.$store.commit("setCitations",{object:this.object,citationKey:this.citationKey,citations:e})}},toggleCitationExpanded:function(e){this.citationsExpanded.includes(e)?this.citationsExpanded=this.citationsExpanded.filter((function(t){return t!==e})):this.citationsExpanded.push(e)},wrappedCitation:function(e){return this.$store.getters.getWrappedCitation(e)}}};t.default=s},"7a65":function(e,t,n){"use strict";n("1420")},"7acd":function(e,t,n){"use strict";var r=n("fc28");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"7c53":function(e,t,n){"use strict";var r=n("288e");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("75fc"));n("7f7f"),n("ac6a");var o=r(n("bd86")),a=n("2f62"),s=n("2ef0"),l=n("a539"),c=n("b2c6"),d=n("9068");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"PhyxView",computed:f({nomenCodes:function(){return d.TaxonNameWrapper.getNomenclaturalCodes()},phyxCurator:{get:function(){return this.phyx.curator},set:function(e){this.$store.commit("setCurator",{name:e})}},phyxCuratorEmail:{get:function(){return this.phyx.curatorEmail},set:function(e){this.$store.commit("setCurator",{email:e})}},phyxCuratorORCID:{get:function(){return this.phyx.curatorORCID},set:function(e){this.$store.commit("setCurator",{orcid:e})}}},(0,a.mapState)({phyx:function(e){return e.phyx.currentPhyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies}})),methods:{getPhylogenyLabel:function(e){return e.label||"Phylogeny ".concat(this.phylogenies.indexOf(e)+1)},getPhylorefLabel:function(e){return new d.PhylorefWrapper(e).label||"Phyloref ".concat(this.phylorefs.indexOf(e)+1)},hasReasoningResults:function(e){if(!(0,s.has)(this.$store.state.resolution.reasoningResults,"phylorefs"))return!1;var t=this.$store.getters.getPhylorefId(e);return(0,s.has)(this.$store.state.resolution.reasoningResults.phylorefs,t)},getPhylorefExpectedNodeLabel:function(e,t){return this.$store.getters.getExpectedNodeLabel(e,t)},getNodesById:function(e,t){var n=new d.PhylogenyWrapper(e).getParsedNewickWithIRIs(this.$store.getters.getPhylogenyId(e),d3.layout.newick_parser);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.has)(e,"@id")&&e["@id"]===t&&n.push(e),(0,s.has)(e,"children")&&e.children.forEach((function(e){return r(e,n)})),n}return(0,s.has)(n,"json")?r(n.json):[]},getNodeLabelsResolvedByPhyloref:function(e,t){var n=this,r=this.$store.getters.getResolvedNodesForPhylogeny(t,e,!1);return r.map((function(e){return n.getNodesById(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.name||"(unlabelled)"}))},deletePhyloref:function(e){var t="Are you sure you wish to delete phyloreference '".concat(this.getPhylorefLabel(e),"'?");confirm(t)&&this.$store.commit("deletePhyloref",{phyloref:e})},deletePhylogeny:function(e){var t="Are you sure you wish to delete phylogeny '".concat(this.getPhylogenyLabel(e),"'?");confirm(t)&&this.$store.commit("deletePhylogeny",{phylogeny:e})},exportAsCSV:function(){var e=this,t=this.phylorefs,n=(0,s.max)(t.map((function(e){return e.internalSpecifiers.length}))),r=(0,s.max)(t.map((function(e){return e.externalSpecifiers.length}))),o=["Phyloreference ID","Label","Type"].concat((0,i.default)((0,s.range)(0,n).map((function(e,t){return"Internal specifier ".concat(t+1)}))),(0,i.default)((0,s.range)(0,r).map((function(e,t){return"External specifier ".concat(t+1)}))),(0,i.default)(this.phylogenies.flatMap((function(t){var n=e.getPhylogenyLabel(t);return["".concat(n," expected"),"".concat(n," actual")]})))),a=t.map((function(t){var o=new d.PhylorefWrapper(t);return[e.$store.getters.getPhylorefId(t),o.label,e.$store.getters.getPhylorefType(t)].concat((0,i.default)(o.internalSpecifiers.map((function(e){return new d.TaxonomicUnitWrapper(e).label}))),(0,i.default)((0,s.range)(o.internalSpecifiers.length,n).map((function(){return""}))),(0,i.default)(o.externalSpecifiers.map((function(e){return new d.TaxonomicUnitWrapper(e).label}))),(0,i.default)((0,s.range)(o.externalSpecifiers.length,r).map((function(){return""}))),(0,i.default)(e.phylogenies.map((function(n){var r=e.getPhylorefExpectedNodeLabel(t,n);return r||""}))),(0,i.default)(e.phylogenies.map((function(n){if(!e.hasReasoningResults(t))return"Resolution not yet run";var r=e.getNodeLabelsResolvedByPhyloref(t,n);return r.map((function(e){return""===e?"an unlabeled node":e})).join("|")}))))}));(0,l.stringify)([o].concat((0,i.default)(a)),(function(t,n){if(t)console.log("Error occurred while producing CSV:",t);else{var r=[n],i="".concat(e.$store.getters.getDownloadFilenameForPhyx,".csv"),o=new Blob(r,{type:"text/csv;charset=utf-8"});(0,c.saveAs)(o,i,{autoBom:!1})}}))}}};t.default=p},8:function(e,t){},"810f":function(e,t,n){"use strict";n.r(t);var r=n("0417"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},8114:function(e,t,n){},8974:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"input-group mb-1"},[t("div",{staticClass:"input-group-prepend"},[t("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.specifierClass)+"\n      ")]),t("div",{staticClass:"dropdown-menu"},[t("a",{staticClass:"dropdown-item",class:{active:"Taxon"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Taxon"}}},[e._v("Taxon")]),t("a",{staticClass:"dropdown-item",class:{active:"Specimen"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Specimen"}}},[e._v("Specimen")]),t("a",{staticClass:"dropdown-item",class:{active:"External reference"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="External reference"}}},[e._v("External reference")]),t("a",{staticClass:"dropdown-item",class:{active:"Apomorphy"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Apomorphy"}}},[e._v("Apomorphy")])])]),"Taxon"===e.specifierClass?t("div",{staticClass:"input-group-prepend"},[t("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.nomenclaturalCodeObj.shortName)+"\n      ")]),t("div",{staticClass:"dropdown-menu"},e._l(e.nomenCodes,(function(n,r){return t("a",{staticClass:"dropdown-item",class:{active:e.enteredNomenclaturalCode===n.uri},attrs:{href:"javascript:;"},on:{click:function(t){e.enteredNomenclaturalCode=n.uri}}},[e._v("\n          "+e._s(n.label)+"\n        ")])})),0)]):e._e(),t("input",{directives:[{name:"model",rawName:"v-model",value:e.specifierLabel,expression:"specifierLabel"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.specifierLabel},on:{input:function(t){t.target.composing||(e.specifierLabel=t.target.value)}}}),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-outline-secondary",class:{active:e.expand},on:{click:function(t){e.expand=!e.expand}}},[e._v("\n        "+e._s(e.expand?"Collapse":"Expand")+"\n      ")])]),t("div",{staticClass:"input-group-append"},[t("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteSpecifier()}}},[e._v("\n        ×\n      ")])])]),e.expand?t("div",{staticClass:"card mt-1 mb-3"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v("\n        Specifier details\n      ")]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specifier-type"}},[e._v("\n          Specifier type\n        ")]),t("div",{staticClass:"col-md-10"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.specifierType,expression:"specifierType"}],staticClass:"form-control",attrs:{id:"specifier-type"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.specifierType=t.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"Internal"}},[e._v("\n              Internal specifier\n            ")]),t("option",{attrs:{value:"External"}},[e._v("\n              External specifier\n            ")])])])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"verbatim-specifier"}},[e._v("\n          Verbatim specifier\n        ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredVerbatimLabel,expression:"enteredVerbatimLabel"}],staticClass:"form-control",attrs:{id:"verbatim-specifier"},domProps:{value:e.enteredVerbatimLabel},on:{change:function(t){return e.updateSpecifier()},input:function(t){t.target.composing||(e.enteredVerbatimLabel=t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specifier-class"}},[e._v("\n          Specifier class\n        ")]),t("div",{staticClass:"col-md-10"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.specifierClass,expression:"specifierClass"}],staticClass:"form-control",attrs:{id:"specifier-class"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.specifierClass=t.target.multiple?n:n[0]},function(t){return e.updateSpecifier()}]}},[t("option",{attrs:{value:"Taxon"}},[e._v("\n              Taxon\n            ")]),t("option",{attrs:{value:"Specimen"}},[e._v("\n              Specimen\n            ")]),t("option",{attrs:{value:"External reference"}},[e._v("\n              External reference\n            ")]),t("option",{attrs:{value:"Apomorphy"}},[e._v("\n              Apomorphy\n            ")])])])]),"Taxon"===e.specifierClass?[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"nomen-code"}},[e._v("\n            Nomenclatural code\n          ")]),t("div",{staticClass:"col-md-10"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.enteredNomenclaturalCode,expression:"enteredNomenclaturalCode"}],staticClass:"form-control",attrs:{id:"nomen-code"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.enteredNomenclaturalCode=t.target.multiple?n:n[0]}}},e._l(e.nomenCodes,(function(n,r){return t("option",{domProps:{value:n.uri}},[e._v("\n                "+e._s(n.label)+"\n              ")])})),0)])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"name-complete"}},[e._v("\n            Binomial/trinomial name\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.taxonNameWrapped.nameComplete,expression:"taxonNameWrapped.nameComplete",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"name-complete"},domProps:{value:e.taxonNameWrapped.nameComplete},on:{change:function(t){return e.$set(e.taxonNameWrapped,"nameComplete",t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"genus"}},[e._v("\n            Genus\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.genusPart,expression:"taxonNameWrapped.genusPart"}],staticClass:"form-control",attrs:{id:"genus"},domProps:{value:e.taxonNameWrapped.genusPart},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"genusPart",t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specific-epithet"}},[e._v("\n            Specific epithet\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.specificEpithet,expression:"taxonNameWrapped.specificEpithet"}],staticClass:"form-control",attrs:{id:"specific-epithet"},domProps:{value:e.taxonNameWrapped.specificEpithet},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"specificEpithet",t.target.value)}}})])]),e.taxonNameWrapped.infraspecificEpithet?t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"infraspecific-epithet"}},[e._v("\n            Infraspecific epithet\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.infraspecificEpithet,expression:"taxonNameWrapped.infraspecificEpithet"}],staticClass:"form-control",attrs:{id:"infraspecific-epithet"},domProps:{value:e.taxonNameWrapped.infraspecificEpithet},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"infraspecificEpithet",t.target.value)}}})])]):e._e()]:e._e(),"Specimen"===e.specifierClass?[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"occurrence-id"}},[e._v("\n            Occurrence ID\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredOccurrenceID,expression:"enteredOccurrenceID"}],staticClass:"form-control",attrs:{id:"occurrence-id",placeholder:"Enter the occurrence ID of the specimen here"},domProps:{value:e.enteredOccurrenceID},on:{input:function(t){t.target.composing||(e.enteredOccurrenceID=t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"collection-code"}},[e._v("\n            Institution code\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{staticClass:"form-control",attrs:{id:"collection-code",readonly:""},domProps:{value:e.specimenWrapped.institutionCode}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"collection-code"}},[e._v("\n            Collection code\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{staticClass:"form-control",attrs:{id:"collection-code",readonly:""},domProps:{value:e.specimenWrapped.collectionCode}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"catalog-number"}},[e._v("\n            Catalog number\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{staticClass:"form-control",attrs:{id:"catalog-number",readonly:""},domProps:{value:e.specimenWrapped.catalogNumber}})])])]:e._e(),"External reference"===e.specifierClass?[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"external-reference"}},[e._v("\n            External reference\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.externalReference,expression:"externalReference"}],staticClass:"form-control",attrs:{id:"external-reference",placeholder:"Enter URI of external reference here"},domProps:{value:e.externalReference},on:{input:function(t){t.target.composing||(e.externalReference=t.target.value)}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary",attrs:{target:"_blank",href:e.externalReference}},[e._v("\n                Open in new window\n              ")])])])])]:e._e(),"Apomorphy"===e.specifierClass?[t("p",[e._v("\n          Apomorphy-based specifiers are not currently supported. Please enter\n          them into the verbatim label field for now.\n        ")])]:e._e()],2)]):e._e()])};t.render=r;var i=[];t.staticRenderFns=i},"8a3e":function(e,t,n){"use strict";n.r(t);var r=n("7c53"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"8e95":function(e,t,n){"use strict";n.r(t);var r=n("ab38"),i=n("f9b1");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("7a65");var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},9:function(e,t){},9033:function(e,t,n){"use strict";(function(e){var r=n("288e");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("6b54"),n("a481");var i=r(n("768b")),o=r(n("bd86")),a=r(n("2b0e")),s=n("2ef0"),l=n("2f62"),c=n("b2c6"),d=n("0041"),u=r(n("470b")),f=n("9068"),p=r(n("4902"));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"Sidebar",components:{ModifiedIcon:p.default},data:function(){return{reasoningInProgress:!1}},computed:y(y({downloadFilenameForPhyx:function(){return this.$store.getters.getDownloadFilenameForPhyx},examplePHYXURLs:function(){return[{url:"examples/brochu_2003.json",title:"Brochu 2003"}]}},(0,l.mapGetters)(["phyxTitle"])),(0,l.mapState)({phyx:function(e){return e.phyx},currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},selectedPhyloref:function(e){return e.ui.display.phyloref},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedSpecifier:function(e){return e.ui.display.specifier}})),methods:{getSpecifierLabel:function(e){return e.verbatimSpecifier||new f.TaxonomicUnitWrapper(e).label||"Undefined specifier"},promptAndSetDict:function(e,t,n){var r=window.prompt(e,t[n]);void 0!==r&&null!==r&&a.default.set(t,n,r)},loadPhyxFromURL:function(e){var t=this;this.$store.getters.loadedPhyxChanged&&!confirm("The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?")||$.getJSON(e).done((function(e){t.$store.commit("setCurrentPhyx",e),t.$store.commit("setLoadedPhyx",e),t.$store.commit("changeDisplay",{})})).fail((function(t){200===t.status?alert("Could not load PHYX file '".concat(e,"': file malformed, see console for details.")):alert("Could not load PHYX file '".concat(e,"': server error ").concat(t.status," ").concat(t.statusText))}))},loadPhyxFromFileInputById:function(e){var t=this;if("function"===typeof window.FileReader){var n=$(e);if(n)if(n.prop("files"))if(n.prop("files")[0]){if(!this.$store.getters.loadedPhyxChanged||confirm("The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?")){var r=n.prop("files"),o=(0,i.default)(r,1),a=o[0],s=new FileReader;s.onload=function(e){var n=e.target.result,r=JSON.parse(n);t.$store.commit("setCurrentPhyx",r),t.$store.commit("setLoadedPhyx",r),t.$store.commit("changeDisplay",{})},s.readAsText(a)}}else alert("Please select a file before attempting to load it.");else alert("File input element found, but files property missing: try another browser?");else alert("Programmer error: No file input element specified.")}else alert("The FileReader API is not supported on this browser.")},downloadAsJSON:function(){var e=[JSON.stringify(this.$store.state.phyx.currentPhyx,void 0,4)],t=new File(e,"".concat(this.downloadFilenameForPhyx,".json"),{type:"application/json;charset=utf-8"});(0,c.saveAs)(t,"".concat(this.downloadFilenameForPhyx,".json")),this.$store.commit("setLoadedPhyx")},downloadAsJSONLD:function(){var e=new f.PhyxWrapper(this.$store.state.phyx.currentPhyx),t=[JSON.stringify([e.asJSONLD()],void 0,4)],n=new File(t,"".concat(this.downloadFilenameForPhyx,".jsonld"),{type:"application/json;charset=utf-8"});(0,c.saveAs)(n,"".concat(this.downloadFilenameForPhyx,".jsonld"))},downloadAsNQuads:function(){var e=this,t=new f.PhyxWrapper(this.$store.state.phyx.currentPhyx);t.toRDF("https://example.phyloref.org/phyx#").then((function(t){var n=new File([t],"".concat(e.downloadFilenameForPhyx,".owl"),{type:"application/n-quads;charset=utf-8"});(0,c.saveAs)(n,"".concat(e.downloadFilenameForPhyx,".owl"))}))},reasonOverPhyloreferences:function(){if(!this.reasoningInProgress){this.$store.commit("setReasoningResults",void 0),this.reasoningInProgress=!0;var t=this;a.default.nextTick((function(){var n=JSON.stringify([new f.PhyxWrapper(t.$store.state.phyx.currentPhyx,d3.layout.newick_parser).asJSONLD()]),r=u.default.gzipSync(n),i=$.param({jsonldGzipped:e.from(r).toString("base64")}).replace(/%20/g,"+"),o=(0,d.signer)({algorithm:"sha1",secret:t.$config.JPHYLOREF_X_HUB_SIGNATURE_SECRET}),a=o(new e(i));console.log("Query: ",i),console.log("Signature: ",a),$.post({url:t.$config.JPHYLOREF_SUBMISSION_URL,data:i,headers:{"X-Hub-Signature":a}}).done((function(e){t.$store.commit("setReasoningResults",e)})).fail((function(e,t,n){var r=n;(0,s.has)(e,"responseJSON")&&(0,s.has)(e.responseJSON,"error")&&(r=e.responseJSON.error),void 0!==r&&""!==r||(r="unknown error"),alert("Error occurred on server while reasoning: ".concat(r))})).always((function(){t.reasoningInProgress=!1}))}))}}}};t.default=m}).call(this,n("b639").Buffer)},"90fe":function(e,t,n){"use strict";var r=n("3377");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},"910f":function(e,t,n){"use strict";var r=n("288e");n("8e6e"),n("ac6a"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("bd86")),o=n("2ef0"),a=n("2f62"),s=n("35a7"),l=r(n("2086")),c=r(n("c0e6")),d=r(n("8e95"));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"PhylogenyView",components:{ModifiedCard:l.default,Phylotree:c.default,Citation:d.default},data:function(){return{phylogenyIdError:void 0}},computed:f({phylogenyId:{get:function(){return this.$store.getters.getPhylogenyId(this.selectedPhylogeny)},set:function(e){try{this.$store.dispatch("changePhylogenyId",{phylogeny:this.selectedPhylogeny,phylogenyId:e})}catch(t){return this.phylogenyIdError=t,!1}return this.phylogenyIdError=void 0,!0}},phylogenyLabel:{get:function(){return this.selectedPhylogeny.label},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,label:e})}},phylogenyDescription:{get:function(){return this.selectedPhylogeny.description},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,description:e})}},phylogenyNewick:{get:function(){return this.selectedPhylogeny.newick||"()"},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,newick:e})}},phylogenyNewickErrors:function(){if(!(0,o.has)(this.selectedPhylogeny,"newick"))return[];var e=this.selectedPhylogeny.newick.trim(),t=[];if(""===e||"()"===e||"();"===e)return[{title:"No phylogeny entered",message:'Click on "Edit as Newick" to enter a phylogeny below.'}];for(var n=0,r=0;r<e.length;r+=1)"("===e[r]&&(n+=1),")"===e[r]&&(n-=1);0!==n&&t.push({title:"Unbalanced parentheses in Newick string",message:n>0?"You have ".concat(n," too many open parentheses"):"You have ".concat(-n," too few open parentheses")});try{(0,s.parse)(e)}catch(i){t.push({title:"Error parsing phylogeny",message:"An error occured while parsing this phylogeny: ".concat(i.message)})}return t}},(0,a.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},selectedPhylogeny:function(e){return e.ui.display.phylogeny}}))};t.default=p},"97ac":function(e,t,n){"use strict";n.r(t);var r=n("fb1f"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},"9ae9":function(e,t,n){"use strict";n("03d1")},"9ce4":function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("7514");var i=r(n("2b0e")),o=n("2ef0"),a={mutations:{setPhylogenyProps:function(e,t){if(!(0,o.has)(t,"phylogeny"))throw new Error('setPhylogenyProps needs a phylogeny to modify using the "phylogeny" argument');(0,o.has)(t,"label")&&i.default.set(t.phylogeny,"label",t.label),(0,o.has)(t,"description")&&i.default.set(t.phylogeny,"description",t.description),(0,o.has)(t,"newick")&&i.default.set(t.phylogeny,"newick",t.newick),(0,o.has)(t,"@id")&&i.default.set(t.phylogeny,"@id",t["@id"])}},actions:{changePhylogenyId:function(e,t){if(!(0,o.has)(t,"phylogeny"))throw new Error('changePhylogenyId needs a phylogeny to modify using the "phylogeny" argument');if(!(0,o.has)(t,"phylogenyId"))throw new Error('changePhylogenyId needs a new phylogeny ID using the "phylogenyId" argument');var n=e.rootGetters.getPhylogenyId(t.phylogeny);if(n!==t.phylogenyId){var r=e.rootState.phyx.currentPhyx.phylogenies.find((function(e){return(0,o.has)(e,"@id")&&e["@id"]===t.phylogenyId}));if(r)throw new Error("Attempt to change ".concat(n," to ").concat(t.phylogenyId," failed: duplicate phylogeny ID detected."));e.rootState.phyx.currentPhyx.phylorefs.forEach((function(r){(0,o.has)(r.expectedResolution||{},n)&&(e.commit("setPhylorefProps",{phyloref:r,phylogenyId:t.phylogenyId,expectedResolution:r.expectedResolution[n]}),e.commit("setPhylorefProps",{phyloref:r,phylogenyId:n,expectedResolution:void 0}))})),e.commit("setPhylogenyProps",{phylogeny:t.phylogeny,"@id":t.phylogenyId})}}}};t.default=a},"9d1d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"AboutCurationToolModal"};t.default=r},a77c:function(e,t,n){"use strict";var r=n("8974");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},ab38:function(e,t,n){"use strict";var r=n("fbbc");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},ac3e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",[t("ModifiedCard",{attrs:{message:"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.",compare:e.selectedPhylogeny,"compare-to":e.loadedPhyx.phylogenies[e.currentPhyx.phylogenies.indexOf(e.selectedPhylogeny)]}}),t("div",{staticClass:"card"},[t("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny information\n    ")]),t("div",{staticClass:"card-body"},[t("form",[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyId"}},[e._v("\n            Identifier\n          ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.phylogenyId,expression:"phylogenyId"}],staticClass:"form-control",class:{"border-danger":e.phylogenyIdError},attrs:{id:"phylogenyId",type:"text",placeholder:"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'"},domProps:{value:e.phylogenyId},on:{input:function(t){t.target.composing||(e.phylogenyId=t.target.value)}}}),e.phylogenyIdError?t("p",{staticClass:"form-text text-danger"},[e._v("\n              "+e._s(e.phylogenyIdError)+"\n            ")]):e._e()])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyLabel"}},[e._v("\n            Label\n          ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyLabel,expression:"phylogenyLabel",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyLabel",type:"text",placeholder:"Enter phylogeny name"},domProps:{value:e.phylogenyLabel},on:{input:function(t){t.target.composing||(e.phylogenyLabel=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyDescription"}},[e._v("\n            Description\n          ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyDescription,expression:"phylogenyDescription",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyDescription",type:"text",placeholder:"Enter phylogeny description"},domProps:{value:e.phylogenyDescription},on:{input:function(t){t.target.composing||(e.phylogenyDescription=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),t("Citation",{attrs:{label:"Primary reference phylogeny",object:e.selectedPhylogeny,"citation-key":"primaryPhylogenyCitation"}}),t("Citation",{attrs:{label:"Reference phylogeny",object:e.selectedPhylogeny,"citation-key":"phylogenyCitation"}}),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-md-2 control-label",attrs:{for:"newick"}},[e._v("\n            Newick\n          ")]),t("div",{staticClass:"col-md-10 input-group"},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phylogenyNewick,expression:"phylogenyNewick",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{rows:"5",placeholder:"Enter Newick string for phylogeny here"},domProps:{value:e.phylogenyNewick},on:{change:function(t){e.phylogenyNewick=t.target.value}}})])])],1)])]),0!==e.phylogenyNewickErrors.length?t("div",{staticClass:"card border-dark mt-2"},[t("h5",{staticClass:"card-header bg-danger"},[e._v("\n      Errors occurred while parsing Newick string\n    ")]),t("div",{staticClass:"card-body"},[e._l(e.phylogenyNewickErrors,(function(n,r){return[t("p",[t("strong",[e._v(e._s(n.title)+".")]),e._v(" "+e._s(n.message))])]}))],2)]):e._e(),0===e.phylogenyNewickErrors.length?t("div",{staticClass:"card mt-2"},[t("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny visualization\n    ")]),t("div",{staticClass:"card-body"},[t("Phylotree",{attrs:{phylogeny:e.selectedPhylogeny}})],1)]):e._e()],1)};t.render=r;var i=[];t.staticRenderFns=i},b0af:function(e,t,n){"use strict";var r=n("cc9e");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},b515:function(e,t,n){"use strict";n.r(t);var r=n("caa2"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},c0c4:function(e,t,n){"use strict";n.r(t);var r=n("2820"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},c0e6:function(e,t,n){"use strict";n.r(t);var r=n("2c1e"),i=n("810f");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("9ae9");var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},c4a9:function(e,t,n){"use strict";n.r(t);var r=n("a77c"),i=n("97ac");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);n("0139");var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},c8c6:function(e,t,n){"use strict";n.r(t);var r=n("4a39"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},caa2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("2ef0"),i={name:"ModifiedCard",props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,r.isEqual)(this.compare,this.compareTo)}}};t.default=i},cc9e:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",[t("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top"},[t("a",{staticClass:"navbar-brand",attrs:{href:"index.html"}},[e._v("\n      Klados\n    ")]),t("small",{staticClass:"text-white"},[e._v(e._s(e.version))]),e._m(0)])])};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"collapse navbar-collapse"},[t("ul",{staticClass:"navbar-nav"},[t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{href:"#",onclick:"$('#about-curation-tool').modal()"}},[e._v("\n            About this tool\n          ")])]),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://www.phyloref.org/"}},[e._v("\n            Phyloreferencing website\n          ")])]),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://github.com/phyloref/curation-tool"}},[e._v("\n            Github repository\n          ")])]),t("li",{staticClass:"nav-item"},[t("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://github.com/phyloref/curation-tool/issues"}},[e._v("\n            Report bug\n          ")])])])])}];t.staticRenderFns=i},db33:function(e,t,n){"use strict";n.r(t);var r=n("910f"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},db49:function(e,t,n){"use strict";e.exports={JPHYLOREF_SUBMISSION_URL:"https://reasoner.phyloref.org/reason",JPHYLOREF_X_HUB_SIGNATURE_SECRET:"undefined",OPEN_TREE_ABOUT_URL:"https://api.opentreeoflife.org/v3/tree_of_life/about",OPEN_TREE_TNRS_MATCH_NAMES_URL:"https://api.opentreeoflife.org/v3/tnrs/match_names",OPEN_TREE_INDUCED_SUBTREE_URL:"https://api.opentreeoflife.org/v3/tree_of_life/induced_subtree"}},e08d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this;e._self._c;return e._m(0)};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"about-curation-tool",tabindex:"-1",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v("\n          About this tool\n        ")]),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])]),t("div",{staticClass:"modal-body col-md-12"},[t("p",[e._v("\n          Klados was built as part of the\n          "),t("a",{attrs:{href:"https://www.phyloref.org"}},[e._v("\n            Phyloreferencing project\n          ")]),e._v(",\n          funded by the US National Science Foundation through collaborative\n          grants "),t("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484"}},[e._v("\n            DBI-1458484\n          ")]),e._v("\n          and "),t("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604"}},[e._v("\n            DBI-1458604\n          ")]),e._v(".\n          See "),t("a",{attrs:{href:"http://www.phyloref.org/about/#funding"}},[e._v("\n            Funding\n          ")]),e._v(" for details.\n        ")]),t("p",[e._v("Klados uses a number of open-source libraries, including:")]),t("ul",[t("li",[t("a",{attrs:{href:"https://cli.vuejs.org/"}},[e._v("\n              Vue CLI 3\n            ")])]),t("li",[t("a",{attrs:{href:"https://getbootstrap.com/"}},[e._v("\n              Bootstrap\n            ")])]),t("li",[t("a",{attrs:{href:"https://jquery.com/"}},[e._v("\n              jQuery\n            ")])]),t("li",[t("a",{attrs:{href:"https://github.com/veg/phylotree.js"}},[e._v("\n              phylotree.js\n            ")]),e._v(",\n            published as "),t("a",{attrs:{href:"https://doi.org/10.1186/s12859-018-2283-2"}},[e._v("\n              Shank "),t("em",[e._v("et al")]),e._v(", 2018\n            ")])]),t("li",[t("a",{attrs:{href:"https://d3js.org/"}},[e._v("\n              D3.js\n            ")])]),t("li",[t("a",{attrs:{href:"https://momentjs.com/"}},[e._v("\n              Moment.js\n            ")])]),t("li",[t("a",{attrs:{href:"https://github.com/eligrey/FileSaver.js"}},[e._v("\n              FileSaver.js\n            ")])]),t("li",[t("a",{attrs:{href:"https://fontawesome.com/"}},[e._v("\n              Font Awesome\n            ")])])])]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])}];t.staticRenderFns=i},e375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("9068"),i=n("b2c6"),o={name:"AdvancedOptionsPanel",data:function(){return{JSONParsingError:void 0}},computed:{phyxAsJSON:{get:function(){return JSON.stringify(this.$store.state.phyx.currentPhyx,void 0,4)},set:function(e){try{var t=JSON.parse(e);this.$store.commit("setCurrentPhyx",t),this.JSONParsingError=void 0}catch(n){this.JSONParsingError=n.message}}}},methods:{downloadAsJSONLD:function(){var e=new r.PhyxWrapper(this.$store.state.phyx.currentPhyx),t=[JSON.stringify([e.asJSONLD()],void 0,4)],n=new File(t,"download.jsonld",{type:"application/json;charset=utf-8"});(0,i.saveAs)(n)}}};t.default=o},e6b3:function(e,t,n){"use strict";var r=n("29f6");n.o(r,"render")&&n.d(t,"render",(function(){return r["render"]})),n.o(r,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return r["staticRenderFns"]}))},e896:function(e,t,n){"use strict";n.r(t);var r=n("5c2c"),i=n("f4ef");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},ea03:function(e,t,n){"use strict";n.r(t);var r=n("369d"),i=n("db33");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},f01d:function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("2b0e")),o={state:{display:{phyloref:void 0,phylogeny:void 0,specifier:void 0}},mutations:{changeDisplay:function(e,t){i.default.set(e,"display",t)}}};t.default=o},f351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return e.dataChanged?t("div",{staticClass:"float-right",attrs:{title:e.message}},[t("FontAwesomeIcon",{style:{color:"#FF8200"},attrs:{size:"lg",icon:"exclamation-circle"}})],1):e._e()};t.render=r;var i=[];t.staticRenderFns=i},f4ef:function(e,t,n){"use strict";n.r(t);var r=n("9033"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},f7af:function(e,t,n){"use strict";n.r(t);var r=n("b0af"),i=n("5c92");for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var a=n("2877"),s=Object(a["a"])(i["default"],r["render"],r["staticRenderFns"],!1,null,null,null);t["default"]=s.exports},f902:function(e,t,n){"use strict";var r=n("288e");n("8e6e"),n("456d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("ac6a"),n("4f7f"),n("5df3"),n("1c4c");var i=r(n("bd86"));n("7f7f");var o=r(n("2b0e")),a=r(n("1157")),s=n("9068"),l=n("2ef0"),c=n("db49");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={state:{currentPhyx:{phylorefs:[],phylogenies:[]},loadedPhyx:{phylorefs:[],phylogenies:[]}},getters:{loadedPhyxChanged:function(e){return!(0,l.isEqual)(e.currentPhyx,e.loadedPhyx)},getDefaultNomenCodeURI:function(e){return e.currentPhyx.defaultNomenclaturalCodeURI||s.TaxonNameWrapper.UNKNOWN_CODE},getDownloadFilenameForPhyx:function(e){var t="download";if(!e.currentPhyx||!e.currentPhyx.phylorefs)return t;var n=e.currentPhyx.phylorefs.map((function(e,t){return(0,l.has)(e,"label")?e.label.replaceAll(/\W/g,"_"):"Phyloref_".concat(t+1)}));return 0===n.length?t:1===n.length?n[0]:2===n.length?"".concat(n[0],"_and_").concat(n[1]):3===n.length?"".concat(n[0],"_").concat(n[1],"_and_").concat(n[2]):"".concat(n[0],"_").concat(n[1],"_and_").concat(n.length-2,"_others")}},mutations:{setCurrentPhyx:function(e,t){o.default.set(e,"currentPhyx",t)},setLoadedPhyx:function(e,t){void 0===t||t===e.currentPhyx?o.default.set(e,"loadedPhyx",JSON.parse(JSON.stringify(e.currentPhyx))):o.default.set(e,"loadedPhyx",t)},createEmptyPhyloref:function(e){e.currentPhyx.phylorefs.push({})},createEmptyPhylogeny:function(e){e.currentPhyx.phylogenies.push({})},createPhylogeny:function(e,t){var n=t.phylogeny;e.currentPhyx.phylogenies.push(n)},deletePhyloref:function(e,t){if(!(0,l.has)(t,"phyloref"))throw new Error('deletePhyloref needs a phyloref to modify using the "phyloref" argument');var n=(e.currentPhyx.phylorefs||[]).indexOf(t.phyloref);if(n<0)throw new Error("Could not delete unknown phyloref: ".concat(JSON.stringify(t.phyloref)));e.currentPhyx.phylorefs.splice(n,1)},deletePhylogeny:function(e,t){if(!(0,l.has)(t,"phylogeny"))throw new Error('deletePhylogeny needs a phylogeny to modify using the "phylogeny" argument');var n=(e.currentPhyx.phylogenies||[]).indexOf(t.phylogeny);if(n<0)throw new Error("Could not delete unknown phylogeny: ".concat(JSON.stringify(t.phylogeny)));e.currentPhyx.phylogenies.splice(n,1)},setDefaultNomenCodeURI:function(e,t){if(!(0,l.has)(t,"defaultNomenclaturalCodeURI"))throw new Error("No default nomenclatural code URI provided to setDefaultNomenCodeURI");o.default.set(e.currentPhyx,"defaultNomenclaturalCodeURI",t.defaultNomenclaturalCodeURI)},duplicatePhyloref:function(e,t){if(!(0,l.has)(t,"phyloref"))throw new Error('duplicatePhyloref needs a phyloref to duplicate using the "phyloref" argument');var n=(e.currentPhyx.phylorefs||[]).indexOf(t.phyloref);n<0&&(n=e.currentPhyx.phylorefs.length),e.currentPhyx.phylorefs.splice(n,0,(0,l.cloneDeep)(t.phyloref))},setCurator:function(e,t){(0,l.has)(t,"name")&&o.default.set(e.currentPhyx,"curator",t.name),(0,l.has)(t,"email")&&o.default.set(e.currentPhyx,"curatorEmail",t.email),(0,l.has)(t,"orcid")&&o.default.set(e.currentPhyx,"curatorORCID",t.orcid)}},actions:{createPhylogenyFromOpenTree:function(e){var t=e.commit,n=e.state;function r(e){a.default.ajax({type:"POST",url:c.OPEN_TREE_ABOUT_URL,dataType:"json",error:function(e){return console.log("Could not retrieve Open Tree of Life /about information: ",e)},success:function(n){var r={type:"misc",authors:[{name:"OpenTree et al"}],year:n.date_created.substring(0,4)||(new Date).getFullYear(),title:"Open Tree of Life synthetic tree ".concat(n.synth_id||"(unknown synthetic tree version)"," using taxonomy ").concat(n.taxonomy_version||"(unknown taxonomy version)"),link:[{url:"https://doi.org/10.5281/zenodo.3937741"}]},i=u({phylogenyCitation:r},e);t("createPhylogeny",{phylogeny:i})}})}var i=(n.currentPhyx.phylorefs||[]).map((function(e){return new s.PhylorefWrapper(e)})).flatMap((function(e){return e.specifiers})).map((function(e){return new s.TaxonConceptWrapper(e)})).map((function(e){return e.nameComplete})).filter((function(e){return e}));if(0!==i.length){var o=Array.from(new Set(i));return a.default.ajax({type:"POST",url:c.OPEN_TREE_TNRS_MATCH_NAMES_URL,data:JSON.stringify({names:o}),contentType:"application/json; charset=utf-8",dataType:"json",error:function(e){return console.log("Error accessing Open Tree Taxonomy match_names: ",e)},success:function(e){var t=(e.results||[]).flatMap((function(e){return(e.matches||[]).flatMap((function(e){return"taxon"in e&&"ott_id"in e.taxon?[e.taxon.ott_id]:[]}))}));return a.default.ajax({type:"POST",url:c.OPEN_TREE_INDUCED_SUBTREE_URL,data:JSON.stringify({ott_ids:t}),contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){r({label:"Open Tree of Life",description:"This phylogeny was generated from the Open Tree of Life based on the following studies: ".concat(e.supporting_studies),newick:e.newick})}}).fail((function(e){var n=/^\[\/v3\/tree_of_life\/induced_subtree\] Error: node_id '\w+' was not found!/;if(n.test(e.responseJSON.message)){var i=e.responseJSON.unknown;console.log("The Open Tree synthetic tree does not contain the following nodes: ",i);var o=t.filter((function(e){return!(0,l.has)(i,"ott".concat(e))}));console.log("Query has been reduced to the following nodes: ",o),0===o.length?r({label:"Open Tree of Life",description:"Attempt to load Open Tree of Life tree failed, as none of the Open Tree taxonomy IDs"+" were present on the synthetic tree: ".concat(JSON.stringify(i,void 0,4)),newick:"()"}):a.default.ajax({type:"POST",url:c.OPEN_TREE_INDUCED_SUBTREE_URL,data:JSON.stringify({ott_ids:o}),contentType:"application/json; charset=utf-8",dataType:"json",error:function(e){return console.log("Error accessing Open Tree induced_subtree: ",e)},success:function(e){r({label:"Open Tree of Life",description:"This phylogeny was generated from the Open Tree of Life based on the following studies: ".concat(e.supporting_studies),newick:e.newick})}})}else console.log("Error accessing Open Tree induced_subtree: ",e)}))}})}r({label:"Open Tree of Life",description:"Attempt to load Open Tree of Life tree failed: no taxon name specifiers present.",newick:"()"})}}};t.default=f},f9b1:function(e,t,n){"use strict";n.r(t);var r=n("7a1e"),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);t["default"]=i.a},fb1f:function(e,t,n){"use strict";var r=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(n("2b0e"));var i=n("9068"),o=n("2ef0");i.TaxonomicUnitWrapper.TYPE_APOMORPHY="http://purl.obolibrary.org/obo/CDAO_0000071";var a={name:"Specifier",props:{specifierIndex:{default:function(){return(0,o.uniqueId)()}},remoteSpecifier:{type:Object,required:!0},remoteSpecifierId:{type:String,required:!1,default:function(){return(0,o.uniqueId)("remoteSpecifierId")}},phyloref:{type:Object,required:!0}},data:function(){return{expand:!1,specifierClass:void 0,specimenWrapped:void 0,taxonNameWrapped:void 0,enteredNomenclaturalCode:this.$store.getters.getDefaultNomenCodeURI,enteredVerbatimLabel:void 0,externalReference:void 0}},computed:{nomenCodes:function(){return i.TaxonNameWrapper.getNomenclaturalCodes()},nomenclaturalCodeObj:function(){return i.TaxonNameWrapper.getNomenCodeDetails(this.enteredNomenclaturalCode)},specifier:function(){var e;switch(this.specifierClass){case"Taxon":e=i.TaxonConceptWrapper.fromLabel(this.enteredScientificName,this.enteredNomenclaturalCode);break;case"Specimen":e=i.SpecimenWrapper.fromOccurrenceID(this.enteredOccurrenceID);break;case"Apomorphy":e={"@type":i.TaxonomicUnitWrapper.TYPE_APOMORPHY};break;case"External reference":e={"@id":this.externalReference||this.enteredVerbatimLabel||""};break;default:e={}}return this.enteredVerbatimLabel&&(e.label=this.enteredVerbatimLabel),e},specifierType:{get:function(){return new i.PhylorefWrapper(this.phyloref).getSpecifierType(this.remoteSpecifier)},set:function(e){this.$store.commit("setSpecifierType",{phyloref:this.phyloref,specifier:this.remoteSpecifier,specifierType:e})}},specifierLabel:{get:function(){return this.enteredVerbatimLabel?this.enteredVerbatimLabel:this.externalReference?this.externalReference:this.specimenWrapped?this.specimenWrapped.label:this.taxonNameWrapped?this.taxonNameWrapped.label:""},set:function(e){switch(this.enteredVerbatimLabel=e,this.specifierClass){case"Taxon":this.taxonNameWrapped=i.TaxonNameWrapper.fromVerbatimName(e,this.enteredNomenclaturalCode);break;case"Specimen":this.specimenWrapped=i.SpecimenWrapper.fromOccurrenceID(e);break;case"Apomorphy":break;case"External reference":this.externalReference=e;break}this.updateSpecifier()}},enteredScientificName:{get:function(){return this.taxonNameWrapped?this.taxonNameWrapped.nameComplete:""},set:function(e){e&&(this.taxonNameWrapped=new i.TaxonNameWrapper(i.TaxonNameWrapper.fromVerbatimName(e,this.enteredNomenclaturalCode)||{}),this.updateSpecifier(),this.enteredScientificName=e)}},enteredOccurrenceID:{get:function(){return this.specimenWrapped?this.specimenWrapped.occurrenceID:""},set:function(e){this.specimenWrapped=new i.SpecimenWrapper(i.SpecimenWrapper.fromOccurrenceID(e)),this.updateSpecifier()}}},watch:{phyloref:function(){this.recalculateEntered()},remoteSpecifier:function(){this.recalculateEntered()},remoteSpecifierId:function(){this.recalculateEntered()},specifierClass:function(){this.updateSpecifier()}},mounted:function(){this.recalculateEntered()},methods:{getSpecifierClass:function(e){if(e.types.length>0){switch(e.types[0]){case i.TaxonomicUnitWrapper.TYPE_TAXON_CONCEPT:return"Taxon";case i.TaxonomicUnitWrapper.TYPE_SPECIMEN:return"Specimen";case i.TaxonomicUnitWrapper.TYPE_APOMORPHY:return"Apomorphy"}if((0,o.has)(e,"@id"))return"External reference"}},recalculateEntered:function(){console.log("Recalculating entered values from: ",this.remoteSpecifier);var e=new i.TaxonomicUnitWrapper((0,o.cloneDeep)(this.remoteSpecifier||{}));(0,o.has)(this.remoteSpecifier,"@id")?(this.specifierClass="External reference",this.externalReference=this.remoteSpecifier["@id"],this.enteredVerbatimLabel=this.remoteSpecifier.label||e.label):(this.enteredVerbatimLabel=e.label,this.specifierClass=this.getSpecifierClass(e)||"Taxon");var t=new i.TaxonConceptWrapper(e.taxonConcept);t&&t.taxonName&&(this.taxonNameWrapped=new i.TaxonNameWrapper(t.taxonName),this.enteredNomenclaturalCode=this.taxonNameWrapped.nomenclaturalCode||this.enteredNomenclaturalCode),e.specimen&&(this.specimenWrapped=new i.SpecimenWrapper(e.specimen))},deleteSpecifier:function(){var e=confirm("Are you sure you want to delete this specifier?");e&&(console.log("Deleting specifier: ",this.phyloref,this.remoteSpecifier),this.$store.commit("deleteSpecifier",{phyloref:this.phyloref,specifier:this.remoteSpecifier}))},updateSpecifier:function(){var e=this.specifier;(0,o.isEqual)(e,this.remoteSpecifier)||(console.log("Updating specifier as ",e," differs from ",this.remoteSpecifier),this.$store.commit("setSpecifierProps",{specifier:this.remoteSpecifier,props:e}))}}};t.default=a},fbbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,n("7f7f"),n("28a5"),n("6762"),n("2fdb"),n("6b54");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2"},[e._v("\n    "+e._s(e.label)+"\n  ")]),t("div",{staticClass:"col-md-10"},[0===e.citations.length?[t("a",{staticClass:"form-control-plaintext",attrs:{href:"javascript:;"},on:{click:function(t){return e.citations.push({})}}},[e._v("\n        Add citation\n      ")])]:e._e(),e._l(e.citations,(function(n,r){return[t("div",{staticClass:"input-group"},[t("input",{staticClass:"form-control hand-cursor",attrs:{type:"text",readonly:"",placeholder:"Citation"},domProps:{value:e.wrappedCitation(n).toString()||"Empty citation, click to enter"},on:{click:function(t){return e.toggleCitationExpanded(r)}}}),t("div",{staticClass:"input-group-append"},[e.wrappedCitation(n).url?t("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:e.wrappedCitation(n).url}},[e._v("\n            Open cited work\n          ")]):e._e(),t("a",{staticClass:"btn btn-secondary",attrs:{href:"javascript:;"},on:{click:function(t){return e.toggleCitationExpanded(r)}}},[e.citationsExpanded.includes(r)?[e._v("\n              Close\n            ")]:[e._v("\n              Expand\n            ")]],2),t("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;"},on:{click:function(t){return e.deleteCitation(r)}}},[t("b-icon",{attrs:{icon:"trash"}})],1)])]),e.citationsExpanded.includes(r)?t("div",{staticClass:"card mt-1"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title"},[e._v("\n            Citation details\n          ")]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"citation-type"}},[e._v("\n              Citation type\n            ")]),t("div",{staticClass:"col-md-10"},[t("select",{directives:[{name:"model",rawName:"v-model",value:n.type,expression:"citation.type"}],staticClass:"form-control",attrs:{id:"citation-type"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(n,"type",t.target.multiple?r:r[0])},function(t){return e.updateCitations()}]}},[t("option",{attrs:{value:"article"}},[e._v("\n                  Article\n                ")]),t("option",{attrs:{value:"book"}},[e._v("\n                  Book\n                ")]),t("option",{attrs:{value:"book_section"}},[e._v("\n                  Book section\n                ")]),t("option",{attrs:{value:"misc"}},[e._v("\n                  Miscellaneous\n                ")])])])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"authors"}},[e._v("\n              Authors (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{staticClass:"form-control",attrs:{id:"authors",rows:"3",placeholder:"Enter authors here"},domProps:{value:e.wrappedCitation(n).authorsAsStrings.join("\n")},on:{change:function(t){e.wrappedCitation(n).authorsAsStrings=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"editors"}},[e._v("\n              Editors (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{staticClass:"form-control",attrs:{id:"editors",rows:"2",placeholder:"Enter editors here"},domProps:{value:e.wrappedCitation(n).editorsAsStrings.join("\n")},on:{change:function(t){e.wrappedCitation(n).editorsAsStrings=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"series-editors"}},[e._v("\n              Series editors (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("textarea",{staticClass:"form-control",attrs:{id:"series-editors",rows:"2",placeholder:"Enter series editors here"},domProps:{value:e.wrappedCitation(n).seriesEditorsAsStrings.join("\n")},on:{change:function(t){e.wrappedCitation(n).seriesEditorsAsStrings=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"title"}},[e._v("\n              Title\n            ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.title,expression:"citation.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Enter title here"},domProps:{value:n.title},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"title",t.target.value)}}})])]),"book_section"===n.type?t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"section-title"}},[e._v("\n              Section title\n            ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.section_title,expression:"citation.section_title"}],staticClass:"form-control",attrs:{id:"section-title",type:"text",placeholder:"Enter section title here"},domProps:{value:n.section_title},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"section_title",t.target.value)}}})])]):e._e(),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"year"}},[e._v("\n              Year\n            ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.year,expression:"citation.year"}],staticClass:"form-control",attrs:{id:"year",type:"text",placeholder:"Enter year here"},domProps:{value:n.year},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"year",t.target.value)}}})]),"article"!==n.type?[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"edition"}},[e._v("\n                Edition\n              ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.edition,expression:"citation.edition"}],staticClass:"form-control",attrs:{id:"edition",type:"text",placeholder:"Enter edition here"},domProps:{value:n.edition},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"edition",t.target.value)}}})])]:e._e()],2),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"pages"}},[e._v("\n              Pages\n            ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.pages,expression:"citation.pages"}],staticClass:"form-control",attrs:{id:"pages",type:"text",placeholder:"Enter pages here"},domProps:{value:n.pages},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"pages",t.target.value)}}})]),t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"figure"}},[e._v("\n              Figure\n            ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.figure,expression:"citation.figure"}],staticClass:"form-control",attrs:{id:"figure",type:"text",placeholder:"Enter figure number here"},domProps:{value:n.figure},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"figure",t.target.value)}}})])]),"article"===n.type?[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-title"}},[e._v("\n                Journal title\n              ")]),t("div",{staticClass:"col-md-10"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(n).journal.name,expression:"wrappedCitation(citation).journal.name"}],staticClass:"form-control",attrs:{id:"journal-title",type:"text",placeholder:"Enter journal title here"},domProps:{value:e.wrappedCitation(n).journal.name},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(e.wrappedCitation(n).journal,"name",t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-volume"}},[e._v("\n                Volume\n              ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(n).journal.volume,expression:"wrappedCitation(citation).journal.volume"}],staticClass:"form-control",attrs:{id:"journal-volume",type:"text",placeholder:"Enter journal volume number here"},domProps:{value:e.wrappedCitation(n).journal.volume},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(e.wrappedCitation(n).journal,"volume",t.target.value)}}})]),t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-issue"}},[e._v("\n                Issue number\n              ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(n).journal.number,expression:"wrappedCitation(citation).journal.number"}],staticClass:"form-control",attrs:{id:"journal-issue",type:"text",placeholder:"Enter journal issue number here"},domProps:{value:e.wrappedCitation(n).journal.number},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(e.wrappedCitation(n).journal,"number",t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"issns"}},[e._v("\n                ISSNs (one per line)\n              ")]),t("div",{staticClass:"col-md-10"},[t("div",{staticClass:"input-group"},[t("textarea",{staticClass:"form-control",attrs:{id:"issns",rows:"1",placeholder:"Enter ISSNs here"},domProps:{value:e.wrappedCitation(e.wrappedCitation(n).journal).issns.join("\n")},on:{change:function(t){e.wrappedCitation(e.wrappedCitation(n).journal).issns=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:0===(e.wrappedCitation(e.wrappedCitation(n).journal).issns||[]).length},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:"https://www.worldcat.org/search?q=n2%3A"+e.wrappedCitation(e.wrappedCitation(n).journal).issns[0]}},[e._v("\n                      Open in new window\n                    ")])])])])])]:e._e(),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"isbns"}},[e._v("\n              ISBNs (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("div",{staticClass:"input-group"},[t("textarea",{staticClass:"form-control",attrs:{id:"isbns",rows:"1",placeholder:"Enter ISBNs here"},domProps:{value:e.wrappedCitation(e.wrappedCitation(n).journal).isbns.join("\n")},on:{change:function(t){e.wrappedCitation(e.wrappedCitation(n).journal).isbns=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:0===(e.wrappedCitation(e.wrappedCitation(n).journal).isbns||[]).length},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:"https://www.worldcat.org/search?q=bn%3A"+e.wrappedCitation(e.wrappedCitation(n).journal).isbns[0]}},[e._v("\n                    Open in new window\n                  ")])])])])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"publisher"}},[e._v("\n              Publisher\n            ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.publisher,expression:"citation.publisher"}],staticClass:"form-control",attrs:{id:"publisher",type:"text",placeholder:"Enter publisher here"},domProps:{value:n.publisher},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"publisher",t.target.value)}}})]),t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"city"}},[e._v("\n              City\n            ")]),t("div",{staticClass:"col-md-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:n.city,expression:"citation.city"}],staticClass:"form-control",attrs:{id:"city",type:"text",placeholder:"Enter publication city here"},domProps:{value:n.city},on:{change:function(t){return e.updateCitations()},input:function(t){t.target.composing||e.$set(n,"city",t.target.value)}}})])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"doi"}},[e._v("\n              DOIs (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("div",{staticClass:"input-group"},[t("textarea",{staticClass:"form-control",attrs:{id:"doi",rows:"1",placeholder:"Enter DOIs here"},domProps:{value:e.wrappedCitation(n).doisAsStrings.join("\n")},on:{change:function(t){e.wrappedCitation(n).doisAsStrings=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:!e.wrappedCitation(n).firstDOI},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:e.wrappedCitation(n).firstDOI?"http://doi.org/"+e.wrappedCitation(n).firstDOI:void 0}},[e._v("\n                    Open in new window\n                  ")])])])])]),t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-form-label col-md-2",attrs:{for:"urls"}},[e._v("\n              URLs (one per line)\n            ")]),t("div",{staticClass:"col-md-10"},[t("div",{staticClass:"input-group"},[t("textarea",{staticClass:"form-control",attrs:{id:"urls",rows:"1",placeholder:"Enter URLs here"},domProps:{value:e.wrappedCitation(n).urlsAsStrings.join("\n")},on:{change:function(t){e.wrappedCitation(n).urlsAsStrings=t.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),t("div",{staticClass:"input-group-append"},[t("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:!e.wrappedCitation(n).firstURL},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:e.wrappedCitation(n).firstURL}},[e._v("\n                    Open in new window\n                  ")])])])])])],2)]):e._e()]}))],2)])};t.render=r;var i=[];t.staticRenderFns=i},fc28:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal",attrs:{id:"advanced-options",tabindex:"-1",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[e._m(0),t("div",{staticClass:"modal-body"},[t("p",[e._v("\n          The following is a representation of this PHYX in JSON. You\n          can edit the JSON directly if you like.\n        ")]),e.JSONParsingError?t("div",{staticClass:"card text-white bg-danger mb-2"},[t("div",{staticClass:"card-body"},[t("p",{staticClass:"card-text"},[e._v("\n              This JSON could not be parsed: "+e._s(e.JSONParsingError)+"\n            ")])])]):e._e(),t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phyxAsJSON,expression:"phyxAsJSON",modifiers:{lazy:!0}}],staticStyle:{width:"100%",margin:"auto"},attrs:{id:"test-content",rows:"10"},domProps:{value:e.phyxAsJSON},on:{change:function(t){e.phyxAsJSON=t.target.value}}})]),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(t){return e.downloadAsJSONLD()}}},[e._v("\n          Download as JSON-LD\n        ")]),t("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])};t.render=r;var i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v("\n          Advanced options\n        ")]),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])])}];t.staticRenderFns=i}});
//# sourceMappingURL=app.a490edbf.js.map